var wa=c=>{throw TypeError(c)};var ra=(c,e,a)=>e.has(c)||wa("Cannot "+a);var A=(c,e,a)=>(ra(c,e,"read from private field"),a?a.call(c):e.get(c)),Me=(c,e,a)=>e.has(c)?wa("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(c):e.set(c,a),xe=(c,e,a,o)=>(ra(c,e,"write to private field"),o?o.call(c,a):e.set(c,a),a),ka=(c,e,a)=>(ra(c,e,"access private method"),a);import{U as kt,c as ar}from"../chunks/DSumOSA1.js";import{u as Jt,h as Ue}from"../chunks/DkC0pIUA.js";import{g as rr,u as za}from"../chunks/DJ2Os-o7.js";import"../chunks/Bzak7iHL.js";import{b as F,s as ge,d as st,o as Ot,e as qt,g as oa,r as la,c as ca,a as Ua}from"../chunks/C8st8IW6.js";import{o as Be,t as T,a as u,f as M,c as s,s as i,r as n,p as qe,e as j,g as ha,z as da,M as Xe,h as b,i as t,k as Se,d as H,b as Ke,j as ze,u as _e,br as or,y as nr,bs as sr,n as ba,bt as ir,as as lr,l as cr,$ as dr,bu as Ba}from"../chunks/jB7C_rnE.js";import{i as y}from"../chunks/Bp5l5fH2.js";import{h as vr}from"../chunks/Caj0Wir2.js";import{s as we,c as nt,a as Gt,r as Ea,f as gr,b as L,g as Ca}from"../chunks/CgC7qgJv.js";import{p as ue,l as Rt,s as pa,a as Ct,u as ur,b as Ht}from"../chunks/D-VCVtW5.js";import{d as fr,b as mr,i as Et,g as Zt}from"../chunks/Bh8BaerV.js";import{p as ee}from"../chunks/U6mOqqCz.js";import{e as Wt}from"../chunks/ucWAtqEP.js";import{l as Za}from"../chunks/MDZlMq7w.js";import{t as hr,f as br,M as xa,r as pr,l as xr}from"../chunks/CpzPGquC.js";import{P as yr}from"../chunks/BuGP631s.js";import{e as Ma,i as Sa}from"../chunks/B_9GqA3w.js";import{a as _r}from"../chunks/CeoL9yOQ.js";import{r as ve,E as wr,L as kr,I as ya,S as va,i as ga,b as ja,c as Oa,d as Cr,s as Ga,M as Pa,a as Mr}from"../chunks/DQtvdNTz.js";import{U as Ia}from"../chunks/CBzCinHZ.js";import{I as Ra}from"../chunks/CAARBg-q.js";import{L as Sr}from"../chunks/Cxybhb3F.js";import"../chunks/69_IOA4Y.js";import{h as Vt}from"../chunks/CiNhGnpg.js";import{C as La}from"../chunks/DydEdpK0.js";import{T as Va}from"../chunks/CpfQv8U7.js";import{C as Fa}from"../chunks/DoOTwRJy.js";import{a as Ha,b as Wa,g as Pr,s as Ir}from"../chunks/DxgCHJIT.js";import{b as Qt}from"../chunks/DUPt1t1G.js";import{p as na}from"../chunks/zVwYyC33.js";import{I as Lr}from"../chunks/BrYwELkr.js";import{b as Tr}from"../chunks/Bh8KIsK8.js";import{b as Ta,r as sa,t as Da}from"../chunks/DjZjxwXe.js";import{I as Dr}from"../chunks/DtLlv1II.js";import{I as Ar}from"../chunks/BCisTzWU.js";import{P as Nr}from"../chunks/DnJmhlQ7.js";const zr="";function ia(...c){return F+zr+fr(c[0],c[1])}const Ur=async({depends:c,fetch:e,url:a})=>{c(kt.ConversationList);const o=Jt({fetch:e,origin:a.origin}),[h,g,x,C,p,N]=await Promise.all([o.user.settings.get().then(Ue),o.models.get().then(Ue),o.user.get().then(Ue),o["public-config"].get().then(Ue),o["feature-flags"].get().then(Ue),o.conversations.get({query:{p:0}}).then(Ue)]),S=g[0];if("error"in N)throw new Error(N.error);const{conversations:P}=N;return{conversations:P.map(B=>{const d=B.title.trim();return B.title=d,{id:B._id.toString(),title:B.title,model:B.model??S,updatedAt:new Date(B.updatedAt)}}),models:g,oldModels:[],user:x,settings:{...h,welcomeModalSeenAt:h.welcomeModalSeenAt?new Date(h.welcomeModalSeenAt):null},publicConfig:rr(C),...p}},En=Object.freeze(Object.defineProperty({__proto__:null,load:Ur},Symbol.toStringTag,{value:"Module"}));var Br=Be('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 26 23"><path fill="url(#gr)" d="M.93 10.65A10.17 10.17 0 0 1 11.11.48h4.67a9.45 9.45 0 0 1 0 18.89H4.53L1.62 22.2a.38.38 0 0 1-.69-.28V10.65Z"></path><path fill="#000" fill-rule="evenodd" d="M11.52 7.4a1.86 1.86 0 1 1-3.72 0 1.86 1.86 0 0 1 3.72 0Zm7.57 0a1.86 1.86 0 1 1-3.73 0 1.86 1.86 0 0 1 3.73 0ZM8.9 12.9a.55.55 0 0 0-.11.35.76.76 0 0 1-1.51 0c0-.95.67-1.94 1.76-1.94 1.09 0 1.76 1 1.76 1.94H9.3a.55.55 0 0 0-.12-.35c-.06-.07-.1-.08-.13-.08s-.08 0-.14.08Zm4.04 0a.55.55 0 0 0-.12.35h-1.51c0-.95.68-1.94 1.76-1.94 1.1 0 1.77 1 1.77 1.94h-1.51a.55.55 0 0 0-.12-.35c-.06-.07-.11-.08-.14-.08-.02 0-.07 0-.13.08Zm-1.89.79c-.02 0-.07-.01-.13-.08a.55.55 0 0 1-.12-.36h-1.5c0 .95.67 1.95 1.75 1.95 1.1 0 1.77-1 1.77-1.95h-1.51c0 .16-.06.28-.12.36-.06.07-.11.08-.14.08Zm4.04 0c-.03 0-.08-.01-.14-.08a.55.55 0 0 1-.12-.36h-1.5c0 .95.67 1.95 1.76 1.95 1.08 0 1.76-1 1.76-1.95h-1.51c0 .16-.06.28-.12.36-.06.07-.11.08-.13.08Zm1.76-.44c0-.16.05-.28.12-.35.06-.07.1-.08.13-.08s.08 0 .14.08c.06.07.11.2.11.35a.76.76 0 0 0 1.51 0c0-.95-.67-1.94-1.76-1.94-1.09 0-1.76 1-1.76 1.94h1.5Z" clip-rule="evenodd"></path><defs><radialGradient id="gr" cx="0" cy="0" r="1" gradientTransform="matrix(0 31.37 -34.85 0 13.08 -9.02)" gradientUnits="userSpaceOnUse"><stop stop-color="#FFD21E"></stop><stop offset="1" stop-color="red"></stop></radialGradient></defs></svg>');function Er(c,e){let a=ue(e,"classNames",3,"");var o=Br();T(()=>we(o,0,nt(a()))),u(c,o)}var Zr=M('<div class="pointer-events-none fixed right-0 top-12 z-50 bg-gradient-to-bl from-red-500/20 via-red-500/0 to-red-500/0 pb-36 pl-36 pr-2 pt-2 max-sm:text-sm md:top-0 md:pr-8 md:pt-5"><div class="pointer-events-auto flex items-center rounded-full bg-white/90 px-3 py-1 shadow-sm dark:bg-gray-900/80"><!> <h2 class="line-clamp-2 max-w-2xl font-semibold text-gray-800 dark:text-gray-200"> </h2></div></div>');function jr(c,e){let a=ue(e,"message",3,"");yr(c,{children:(o,h)=>{var g=Zr(),x=s(g),C=s(x);Er(C,{classNames:"text-2xl mr-2 flex-none"});var p=i(C,2),N=s(p,!0);n(p),n(x),n(g),T(()=>ge(N,a())),hr(7,g,()=>br,()=>({duration:300})),u(o,g)},$$slots:{default:!0}})}var Or=Be("<svg><!></svg>");function Xa(c,e){const a=Rt(e,["children","$$slots","$$events","$$legacy"]);var o=Or();Gt(o,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...a}));var h=s(o);Vt(h,()=>'<path fill="currentColor" d="m28.504 8.136l-12-7a1 1 0 0 0-1.008 0l-12 7A1 1 0 0 0 3 9v14a1 1 0 0 0 .496.864l12 7a1 1 0 0 0 1.008 0l12-7A1 1 0 0 0 29 23V9a1 1 0 0 0-.496-.864M16 3.158L26.016 9L16 14.842L5.984 9ZM5 10.74l10 5.833V28.26L5 22.426Zm12 17.52V16.574l10-5.833v11.685Z"/>',!0),n(o),u(c,o)}var Gr=Be("<svg><!></svg>");function Rr(c,e){const a=Rt(e,["children","$$slots","$$events","$$legacy"]);var o=Gr();Gt(o,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...a}));var h=s(o);Vt(h,()=>'<path fill="currentColor" d="m29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9"/>',!0),n(o),u(c,o)}var Vr=Be("<svg><!></svg>");function qa(c,e){const a=Rt(e,["children","$$slots","$$events","$$legacy"]);var o=Vr();Gt(o,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...a}));var h=s(o);Vt(h,()=>'<path fill="currentColor" d="M16 24v-2a3.3 3.3 0 0 0 3-3h2a5.267 5.267 0 0 1-5 5"/><path fill="currentColor" d="M16 28a9.01 9.01 0 0 1-9-9a10 10 0 0 1 1.494-4.955l6.659-10.608a1.04 1.04 0 0 1 1.694 0l6.63 10.556A10.06 10.06 0 0 1 25 19a9.01 9.01 0 0 1-9 9m0-22.152l-5.782 9.208A8 8 0 0 0 9 19a7 7 0 0 0 14 0a8.06 8.06 0 0 0-1.248-3.995Z"/>',!0),n(o),u(c,o)}var Fr=Be("<svg><!></svg>");function Hr(c,e){const a=Rt(e,["children","$$slots","$$events","$$legacy"]);var o=Fr();Gt(o,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...a}));var h=s(o);Vt(h,()=>'<path fill="currentColor" d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6M5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"/>',!0),n(o),u(c,o)}var Wr=Be("<svg><!></svg>");function Ka(c,e){const a=Rt(e,["children","$$slots","$$events","$$legacy"]);var o=Wr();Gt(o,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...a}));var h=s(o);Vt(h,()=>'<path fill="currentColor" d="M22.45 6a5.47 5.47 0 0 1 3.91 1.64a5.7 5.7 0 0 1 0 8L16 26.13L5.64 15.64a5.7 5.7 0 0 1 0-8a5.48 5.48 0 0 1 7.82 0l2.54 2.6l2.53-2.58A5.44 5.44 0 0 1 22.45 6m0-2a7.47 7.47 0 0 0-5.34 2.24L16 7.36l-1.11-1.12a7.49 7.49 0 0 0-10.68 0a7.72 7.72 0 0 0 0 10.82L16 29l11.79-11.94a7.72 7.72 0 0 0 0-10.82A7.5 7.5 0 0 0 22.45 4"/>',!0),n(o),u(c,o)}var Xr=Be('<svg width="1em" height="1em" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="a" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="2" y="2" width="45" height="45"><path d="M24.501 39c.438 0 .784.143 1.071.43.288.287.43.633.428 1.068V44.5c0 .44-.144.787-.43 1.073-.285.285-.63.428-1.069.427H24.5c-.44 0-.786-.143-1.07-.428-.25-.25-.391-.548-.423-.913L23 44.5V40.5c0-.44.143-.786.429-1.07.286-.285.632-.429 1.072-.43Zm11.26-4.673c.43.013.787.157 1.093.435l2.147 2.096.005.006.006.005c.287.263.426.588.414 1.017a1.66 1.66 0 0 1-.433 1.112c-.305.305-.66.453-1.093.453-.433 0-.764-.147-1.032-.439l-.005-.006-.006-.005-2.093-2.144a1.537 1.537 0 0 1-.414-1.08c0-.426.136-.755.404-1.024l.117-.117c.245-.22.533-.32.89-.31Zm-22.537.023c.425 0 .755.137 1.023.404l.117.117c.22.246.322.534.312.891-.013.43-.157.787-.439 1.094L12.143 39l-.006.005-.005.006c-.264.288-.589.426-1.018.414a1.66 1.66 0 0 1-1.113-.433 1.476 1.476 0 0 1-.451-1.092c0-.434.147-.765.438-1.033l.006-.004.005-.006 2.146-2.096a1.537 1.537 0 0 1 1.079-.412ZM24.5 15c2.632 0 4.863.924 6.723 2.78 1.858 1.857 2.78 4.087 2.777 6.72-.004 2.633-.927 4.865-2.78 6.723-1.852 1.857-4.082 2.78-6.719 2.777H24.5c-2.634 0-4.866-.922-6.72-2.779-1.856-1.857-2.779-4.087-2.78-6.72-.001-2.634.921-4.865 2.78-6.721C19.636 15.923 21.867 15 24.5 15Zm-20 8h4c.44 0 .786.144 1.072.43.286.286.429.631.428 1.07-.001.439-.145.786-.43 1.074-.284.285-.629.428-1.068.426H4.5c-.44 0-.786-.143-1.07-.428-.285-.287-.429-.633-.43-1.073-.001-.438.142-.783.429-1.069.288-.287.634-.43 1.071-.43Zm36 0h4c.44 0 .786.144 1.072.43.286.286.429.631.428 1.07-.001.439-.145.786-.43 1.074-.284.285-.629.428-1.068.426H40.5c-.44 0-.786-.143-1.07-.428-.285-.287-.429-.633-.43-1.073-.001-.438.142-.783.429-1.069.288-.287.634-.43 1.071-.43ZM11.1 9.55c.433 0 .764.147 1.032.439l.005.006.006.004 2.092 2.144c.281.308.415.654.415 1.058 0 .405-.135.752-.419 1.061a1.216 1.216 0 0 1-.99.414 1.635 1.635 0 0 1-1.098-.44l-2.144-2.093-.005-.006-.006-.005-.101-.102c-.22-.245-.323-.54-.313-.915a1.66 1.66 0 0 1 .435-1.116c.305-.302.659-.449 1.09-.449Zm26.786.025c.445.012.808.157 1.112.431.305.306.452.66.452 1.094 0 .434-.147.765-.438 1.032l-.006.005-.005.006-2.145 2.093c-.308.28-.653.415-1.056.415-.406 0-.752-.136-.062-.42a1.216 1.216 0 0 1-.414-.99c.013-.428.157-.787.44-1.098l2.093-2.144.006-.004.005-.006c.264-.288.589-.426 1.018-.414ZM24.5 3c.438 0 .784.143 1.071.43.288.287.43.633.428 1.068V8.5c0 .44-.144.787-.43 1.073-.285.285-.63.428-1.069.427H24.5c-.44 0-.786-.143-1.07-.428-.25-.25-.391-.548-.423-.912L23 8.5v-4c0-.44.143-.786.429-1.07.286-.285.632-.429 1.072-.43Z" fill="#E9E9E9" stroke="#000"></path></mask><g mask="url(#a)"><path d="M24.5 34.5c-2.767 0-5.125-.975-7.074-2.926-1.95-1.95-2.925-4.308-2.926-7.074-.001-2.765.974-5.123 2.926-7.074 1.952-1.95 4.31-2.926 7.074-2.926 2.764 0 5.123.976 7.076 2.926 1.953 1.951 2.928 4.309 2.924 7.074-.004 2.766-.98 5.124-2.926 7.076-1.947 1.952-4.305 2.927-7.074 2.924Zm-20-8c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424-.001-.565.19-1.04.576-1.424.385-.384.86-.576 1.424-.576h4c.567 0 1.042.192 1.426.576.384.384.575.859.574 1.424-.001.566-.193 1.041-.576 1.426-.383.386-.857.577-1.424.574h-4Zm36 0c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424-.001-.565.19-1.04.576-1.424.385-.384.86-.576 1.424-.576h4c.567 0 1.042.192 1.426.576.384.384.575.859.574 1.424-.001.566-.193 1.041-.576 1.426-.383.386-.857.577-1.424.574h-4Zm-16-16c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424v-4c0-.566.192-1.041.576-1.424.384-.382.859-.574 1.424-.576a1.93 1.93 0 0 1 1.426.576c.385.386.577.86.574 1.424v4c0 .567-.192 1.042-.576 1.426-.384.384-.859.576-1.424.574Zm0 36c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424v-4c0-.566.192-1.041.576-1.424.384-.382.859-.574 1.424-.576a1.93 1.93 0 0 1 1.426.576c.385.386.577.86.574 1.424v4c0 .567-.192 1.042-.576 1.426-.384.384-.859.576-1.424.574ZM11.8 14.6l-2.15-2.1c-.4-.366-.592-.833-.576-1.4a2.16 2.16 0 0 1 .576-1.45c.4-.4.883-.6 1.45-.6s1.033.2 1.4.6l2.1 2.15c.367.4.55.867.55 1.4 0 .534-.183 1-.55 1.4-.367.4-.825.592-1.374.576A2.137 2.137 0 0 1 11.8 14.6Zm24.7 24.75-2.1-2.15c-.367-.4-.55-.874-.55-1.424 0-.549.183-1.008.55-1.376a1.71 1.71 0 0 1 1.376-.574 2.14 2.14 0 0 1 1.424.574l2.15 2.1c.4.367.592.834.576 1.4a2.16 2.16 0 0 1-.576 1.45c-.4.4-.883.6-1.45.6s-1.033-.2-1.4-.6ZM34.4 14.6a1.714 1.714 0 0 1-.576-1.374c.016-.549.208-1.024.576-1.426l2.1-2.15c.367-.4.833-.592 1.4-.576a2.16 2.16 0 0 1 1.45.576c.4.4.6.884.6 1.45 0 .567-.2 1.034-.6 1.4l-2.15 2.1c-.4.367-.867.55-1.4.55-.533 0-1-.183-1.4-.55ZM9.65 39.35c-.4-.4-.6-.883-.6-1.45 0-.566.2-1.033.6-1.4l2.15-2.1c.4-.366.875-.55 1.424-.55.55 0 1.008.184 1.376.55.4.367.592.826.576 1.376A2.124 2.124 0 0 1 14.6 37.2l-2.1 2.15c-.367.4-.833.592-1.4.576a2.16 2.16 0 0 1-1.45-.576Z" fill="#fff"></path><path d="M24.5 34.5c-2.767 0-5.125-.975-7.074-2.926-1.95-1.95-2.925-4.308-2.926-7.074-.001-2.765.974-5.123 2.926-7.074 1.952-1.95 4.31-2.926 7.074-2.926 2.764 0 5.123.976 7.076 2.926 1.953 1.951 2.928 4.309 2.924 7.074-.004 2.766-.98 5.124-2.926 7.076-1.947 1.952-4.305 2.927-7.074 2.924Zm-20-8c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424-.001-.565.19-1.04.576-1.424.385-.384.86-.576 1.424-.576h4c.567 0 1.042.192 1.426.576.384.384.575.859.574 1.424-.001.566-.193 1.041-.576 1.426-.383.386-.857.577-1.424.574h-4Zm36 0c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424-.001-.565.19-1.04.576-1.424.385-.384.86-.576 1.424-.576h4c.567 0 1.042.192 1.426.576.384.384.575.859.574 1.424-.001.566-.193 1.041-.576 1.426-.383.386-.857.577-1.424.574h-4Zm-16-16c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424v-4c0-.566.192-1.041.576-1.424.384-.382.859-.574 1.424-.576a1.93 1.93 0 0 1 1.426.576c.385.386.577.86.574 1.424v4c0 .567-.192 1.042-.576 1.426-.384.384-.859.576-1.424.574Zm0 36c-.567 0-1.041-.192-1.424-.576-.383-.384-.575-.858-.576-1.424v-4c0-.566.192-1.041.576-1.424.384-.382.859-.574 1.424-.576a1.93 1.93 0 0 1 1.426.576c.385.386.577.86.574 1.424v4c0 .567-.192 1.042-.576 1.426-.384.384-.859.576-1.424.574ZM11.8 14.6l-2.15-2.1c-.4-.366-.592-.833-.576-1.4a2.16 2.16 0 0 1 .576-1.45c.4-.4.883-.6 1.45-.6s1.033.2 1.4.6l2.1 2.15c.367.4.55.867.55 1.4 0 .534-.183 1-.55 1.4-.367.4-.825.592-1.374.576A2.137 2.137 0 0 1 11.8 14.6Zm24.7 24.75-2.1-2.15c-.367-.4-.55-.874-.55-1.424 0-.549.183-1.008.55-1.376a1.71 1.71 0 0 1 1.376-.574 2.14 2.14 0 0 1 1.424.574l2.15 2.1c.4.367.592.834.576 1.4a2.16 2.16 0 0 1-.576 1.45c-.4.4-.883.6-1.45.6s-1.033-.2-1.4-.6ZM34.4 14.6a1.714 1.714 0 0 1-.576-1.374c.016-.549.208-1.024.576-1.426l2.1-2.15c.367-.4.833-.592 1.4-.576a2.16 2.16 0 0 1 1.45.576c.4.4.6.884.6 1.45 0 .567-.2 1.034-.6 1.4l-2.15 2.1c-.4.367-.867.55-1.4.55-.533 0-1-.183-1.4-.55ZM9.65 39.35c-.4-.4-.6-.883-.6-1.45 0-.566.2-1.033.6-1.4l2.15-2.1c.4-.366.875-.55 1.424-.55.55 0 1.008.184 1.376.55.4.367.592.826.576 1.376A2.124 2.124 0 0 1 14.6 37.2l-2.1 2.15c-.367.4-.833.592-1.4.576a2.16 2.16 0 0 1-1.45-.576Z" fill="url(#b)"></path><g filter="url(#c)"><path d="M24.306 41.34c0 .522.178.962.532 1.317.354.355.793.532 1.317.532.12 0 .234-.01.345-.028v1.34c0 .566-.192 1.042-.576 1.426-.384.383-.859.575-1.424.574-.567 0-1.041-.192-1.424-.576-.382-.384-.575-.859-.576-1.424v-4c0-.567.192-1.042.576-1.425.34-.338.75-.527 1.23-.567v2.83Zm10.63-7.343c.084.214.208.412.374.593l1.942 1.988c.339.37.771.555 1.295.555.402 0 .759-.111 1.07-.33.218.311.32.677.309 1.097a2.161 2.161 0 0 1-.575 1.45c-.4.4-.884.6-1.45.6-.567 0-1.034-.2-1.401-.6l-2.1-2.15c-.366-.4-.55-.875-.55-1.424 0-.549.184-1.008.55-1.376.16-.175.34-.308.536-.403Zm-23.14.546c-.369.339-.554.77-.554 1.295 0 .524.185.97.555 1.34.37.34.817.518 1.34.533.525.015.957-.163 1.296-.532l.56-.575a2.161 2.161 0 0 1-.392.596L12.5 39.35c-.367.4-.833.593-1.4.577a2.162 2.162 0 0 1-1.45-.577c-.4-.4-.6-.883-.6-1.45 0-.566.2-1.032.6-1.4l2.15-2.1a2.12 2.12 0 0 1 .49-.339l-.493.482ZM5.84 22.5a2.07 2.07 0 0 0-.028.344 1.8 1.8 0 0 0 .532 1.317c.354.355.793.532 1.317.532h2.831c-.04.481-.229.892-.567 1.233-.383.385-.857.576-1.424.574h-4c-.567 0-1.041-.192-1.424-.576-.382-.384-.575-.859-.576-1.424-.001-.566.19-1.04.576-1.425.385-.384.86-.575 1.424-.575h1.339Zm34.401.015a1.962 1.962 0 0 0-.076.562c.001.523.179.961.532 1.316.354.356.794.534 1.318.534h3.698c.28 0 .536-.052.768-.154a1.916 1.916 0 0 1-.556 1.153c-.383.385-.857.576-1.424.574h-4c-.566 0-1.041-.192-1.424-.576-.382-.384-.575-.859-.576-1.424-.001-.566.19-1.04.576-1.425a1.907 1.907 0 0 1 1.164-.56ZM11.1 9.052c.236 0 .455.036.656.105-.328.366-.5.805-.514 1.32-.015.523.163.955.533 1.294l1.988 1.942c.32.293.69.464 1.111.515-.076.13-.165.255-.273.373-.367.4-.825.593-1.374.577A2.138 2.138 0 0 1 11.8 14.6l-2.15-2.1c-.4-.367-.592-.834-.576-1.4.016-.567.208-1.05.576-1.45.4-.4.884-.6 1.45-.6Zm24.835 1.563c-.34.371-.518.811-.533 1.32-.014.507.163.931.533 1.27.37.339.801.508 1.294.508.494 0 .925-.169 1.295-.508l1.197-1.17c-.095.17-.217.326-.37.467l-2.15 2.1c-.4.366-.868.55-1.401.55s-1-.184-1.4-.55a1.714 1.714 0 0 1-.576-1.375c.016-.549.208-1.024.576-1.425l2.1-2.15c.25-.273.546-.447.889-.526l-1.454 1.49ZM24.5 2.501c.31 0 .592.058.848.174a1.805 1.805 0 0 0-.51.358c-.355.354-.532.793-.532 1.317V8.05c0 .523.178.962.532 1.317.308.31.681.484 1.119.524l-.033.037c-.384.383-.859.575-1.424.574-.567 0-1.041-.192-1.424-.576-.382-.384-.575-.859-.576-1.424v-4c0-.567.192-1.042.576-1.425.384-.382.859-.574 1.424-.575Z" fill="#89969F"></path></g><g filter="url(#d)"><path d="M21.153 15.044a9.752 9.752 0 0 0-1.54 1.26c-1.805 1.803-2.706 3.984-2.705 6.541.002 2.557.903 4.738 2.705 6.542 1.803 1.804 3.984 2.705 6.542 2.705 2.561.003 4.742-.899 6.542-2.704.485-.486.902-1 1.256-1.54-.479 1.375-1.27 2.618-2.379 3.729-1.946 1.952-4.305 2.926-7.074 2.924-2.767 0-5.125-.976-7.074-2.926-1.95-1.95-2.925-4.31-2.926-7.075-.001-2.765.974-5.123 2.926-7.074 1.11-1.11 2.354-1.903 3.727-2.382Z" fill="#30363A"></path></g></g><defs><filter id="c" x="-3.79" y="-3.789" width="56.56" height="56.58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="1.021" result="effect1_foregroundBlur_3607_89"></feGaussianBlur></filter><filter id="d" x="7.87" y="8.414" width="32.714" height="32.717" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="3.315" result="effect1_foregroundBlur_3607_89"></feGaussianBlur></filter><radialGradient id="b" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-9 11 -11 -9 29.905 18.58)"><stop stop-color="#fff"></stop><stop offset="1" stop-color="#F8FAFC"></stop></radialGradient></defs></svg>');function ua(c,e){let a=ue(e,"classNames",3,"");var o=Xr();T(()=>we(o,0,nt(a()))),u(c,o)}var qr=Be('<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M25.054 43.02C20.02 43.02 15.762 41.278 12.28 37.794C8.79695 34.31 7.05496 30.052 7.05396 25.02C7.05396 20.42 8.55396 16.428 11.554 13.044C14.554 9.66 18.387 7.685 23.054 7.12C23.487 7.053 23.87 7.112 24.204 7.296C24.537 7.48 24.804 7.721 25.004 8.02C25.204 8.318 25.312 8.668 25.33 9.07C25.347 9.471 25.222 9.854 24.954 10.22C24.3955 11.0688 23.9655 11.9955 23.678 12.97C23.3906 13.961 23.2477 14.9882 23.254 16.02C23.254 19.02 24.304 21.57 26.404 23.67C28.504 25.77 31.054 26.82 34.054 26.82C35.087 26.82 36.112 26.67 37.13 26.37C38.096 26.0936 39.0145 25.6721 39.854 25.12C40.22 24.886 40.596 24.778 40.98 24.796C41.364 24.813 41.705 24.904 42.004 25.07C42.337 25.236 42.596 25.486 42.78 25.82C42.964 26.153 43.022 26.553 42.954 27.02C42.487 31.62 40.529 35.436 37.08 38.47C33.63 41.503 29.622 43.02 25.054 43.02Z" fill="#D2D5DB"></path></svg>');function Kt(c,e){let a=ue(e,"classNames",3,"");var o=qr();T(()=>we(o,0,nt(a()))),u(c,o)}var Kr=M('<form class="flex w-full flex-col gap-5 p-6"><div class="flex items-start justify-between"><h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200">Rename conversation</h2> <button type="button" class="group" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="size-5 text-gray-700 group-hover:text-gray-500 dark:text-gray-300 dark:group-hover:text-gray-400"><path d="M24 9.41 22.59 8 16 14.59 9.41 8 8 9.41 14.59 16 8 22.59 9.41 24 16 17.41 22.59 24 24 22.59 17.41 16 24 9.41z" fill="currentColor"></path></svg></button></div> <div class="flex flex-col gap-2"><label for="conv-title" class="text-sm text-gray-600 dark:text-gray-400">Title</label> <input autocomplete="off" id="conv-title" class="w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-[15px] text-gray-800 outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder:text-gray-500 dark:focus:ring-gray-700" placeholder="Enter a title"/></div> <div class="flex items-center justify-end gap-2"><button type="button" class="inline-flex items-center rounded-xl border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-900 shadow hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600">Cancel</button> <button type="submit" class="inline-flex items-center rounded-xl border border-gray-900 bg-gray-900 px-3 py-1.5 text-sm font-semibold text-white hover:bg-black disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-100 dark:bg-gray-100 dark:text-gray-900 dark:hover:bg-white">Save</button></div></form>');function Yr(c,e){qe(e,!0);let a=ue(e,"open",7,!1),o=ue(e,"title",3,""),h=j(ha(da(()=>o()))),g=j(void 0);Xe(()=>{a()&&da(()=>{b(h,o())})});function x(){var P;a(!1),(P=e.onclose)==null||P.call(e)}function C(){var X;const P=(t(h)??"").trim();P&&((X=e.onsave)==null||X.call(e,{title:P}),x())}Ot(()=>{setTimeout(()=>{var P,X;(P=t(g))==null||P.focus(),(X=t(g))==null||X.select()},0)});var p=Se(),N=H(p);{var S=P=>{xa(P,{onclose:x,width:"w-[90dvh] md:w-[480px]",children:(X,B)=>{var d=Kr(),_=s(d),w=i(s(_),2);w.__click=x,n(_);var E=i(_,2),Y=i(s(E),2);Ea(Y),Y.__input=D=>b(h,D.currentTarget.value,!0),Qt(Y,D=>b(g,D),()=>t(g)),n(E);var z=i(E,2),O=s(z);O.__click=x;var Z=i(O,2);n(z),n(d),T(D=>{gr(Y,t(h)),Z.disabled=D},[()=>{var D;return!((D=t(h))!=null&&D.trim())}]),qt("submit",d,D=>{D.preventDefault(),C()}),u(X,d)},$$slots:{default:!0}})};y(N,P=>{a()&&P(S)})}u(c,p),Ke()}st(["click","input"]);var Jr=M(`<div class="flex w-full flex-col gap-5 p-6"><div class="flex items-start justify-between"><h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200">Delete conversation</h2> <button type="button" class="group outline-none" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="size-5 text-gray-700 group-hover:text-gray-500 dark:text-gray-300 dark:group-hover:text-gray-400"><path d="M24 9.41 22.59 8 16 14.59 9.41 8 8 9.41 14.59 16 8 22.59 9.41 24 16 17.41 22.59 24 24 22.59 17.41 16 24 9.41z" fill="currentColor"></path></svg></button></div> <p class="text-sm text-gray-600 dark:text-gray-400">Are you sure you want to delete "<span class="font-semibold"> </span>"? This action
				cannot be undone.</p> <div class="flex items-center justify-end gap-2"><button type="button" class="inline-flex items-center rounded-xl border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-900 shadow outline-none hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600">Cancel</button> <button type="button" class="inline-flex items-center rounded-xl border border-red-600 bg-red-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 dark:border-red-500 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-400 dark:focus:ring-offset-gray-800">Delete</button></div></div>`);function Qr(c,e){qe(e,!0);let a=ue(e,"open",7,!1),o=ue(e,"title",3,""),h=j(void 0);function g(){var S;a(!1),(S=e.onclose)==null||S.call(e)}function x(){var S;(S=e.ondelete)==null||S.call(e),g()}Ot(()=>{setTimeout(()=>{var S;(S=t(h))==null||S.focus()},100)});var C=Se(),p=H(C);{var N=S=>{xa(S,{onclose:g,width:"w-[90dvh] md:w-[480px]",children:(P,X)=>{var B=Jr(),d=s(B),_=i(s(d),2);_.__click=g,n(d);var w=i(d,2),E=i(s(w)),Y=s(E,!0);n(E),ze(),n(w);var z=i(w,2),O=s(z);O.__click=g;var Z=i(O,2);Z.__click=x,Qt(Z,D=>b(h,D),()=>t(h)),n(z),n(B),T(()=>ge(Y,o())),u(P,B)},$$slots:{default:!0}})};y(p,S=>{a()&&S(N)})}u(c,C),Ke()}st(["click"]);var $r=M('<button type="button"><div><!></div> <div class="my-2 min-w-0 flex-1 truncate text-left first-letter:uppercase"><span> </span></div></button>'),eo=M('<button type="button" class="flex h-5 w-5 items-center justify-center rounded md:hidden md:group-hover:flex" title="Edit conversation title"><!></button> <button type="button" class="flex h-5 w-5 items-center justify-center rounded md:hidden md:group-hover:flex" title="Delete conversation"><!></button>',1),to=M('<a data-sveltekit-noscroll="" data-sveltekit-preload-data="tap"><div class="my-2 min-w-0 flex-1 truncate first-letter:uppercase"><span> </span></div> <!></a>'),ao=M("<!> <!> <!>",1);function ro(c,e){qe(e,!0);let a=ue(e,"isSelectionMode",3,!1),o=ue(e,"isSelected",3,!1),h=j(!1),g=j(!1);var x=ao(),C=H(x);{var p=d=>{var _=$r();_.__click=D=>{var I;D.preventDefault(),(I=e.onToggleSelection)==null||I.call(e)};var w=s(_),E=s(w);{var Y=D=>{Fa(D,{class:"text-xs text-white"})};y(E,D=>{o()&&D(Y)})}n(w);var z=i(w,2),O=s(z),Z=s(O,!0);n(O),n(z),n(_),T(()=>{we(_,1,`group flex h-[2.15rem] w-full flex-none items-center gap-1.5 rounded-lg pl-2.5 pr-2 text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 max-sm:h-10
			${o()?"bg-blue-50 dark:bg-blue-900/20":""}`),we(w,1,`flex h-4 w-4 flex-shrink-0 items-center justify-center rounded border-2 transition-colors
				${o()?"border-blue-600 bg-blue-600":"border-gray-300 dark:border-gray-600"}`),ge(Z,e.conv.title)}),u(d,_)},N=d=>{var _=to(),w=s(_),E=s(w),Y=s(E,!0);n(E),n(w);var z=i(w,2);{var O=Z=>{var D=eo(),I=H(D);I.__click=oe=>{oe.preventDefault(),!ve()&&b(g,!0)};var ae=s(I);wr(ae,{class:"text-xs text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"}),n(I);var re=i(I,2);re.__click=oe=>{var fe;oe.preventDefault(),!ve()&&(oe.shiftKey?(fe=e.ondeleteConversation)==null||fe.call(e,e.conv.id.toString()):b(h,!0))};var W=s(re);Va(W,{class:"text-xs text-gray-400  hover:text-gray-500 dark:hover:text-gray-300"}),n(re),u(Z,D)};y(z,Z=>{e.readOnly||Z(O)})}n(_),T(()=>{L(_,"href",`${F??""}/conversation/${e.conv.id??""}`),we(_,1,`group flex h-[2.15rem] flex-none items-center gap-1.5 rounded-lg pl-2.5 pr-2 text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 max-sm:h-10
			${e.conv.id===ee.params.id?"bg-gray-100 dark:bg-gray-700":""}`),ge(Y,e.conv.title)}),u(d,_)};y(C,d=>{a()?d(p):d(N,!1)})}var S=i(C,2);{var P=d=>{Yr(d,{get open(){return t(g)},get title(){return e.conv.title},onclose:()=>b(g,!1),onsave:_=>{var w;b(g,!1),(w=e.oneditConversationTitle)==null||w.call(e,{id:e.conv.id.toString(),title:_.title})}})};y(S,d=>{t(g)&&d(P)})}var X=i(S,2);{var B=d=>{Qr(d,{get open(){return t(h)},get title(){return e.conv.title},onclose:()=>b(h,!1),ondelete:()=>{var _;b(h,!1),(_=e.ondeleteConversation)==null||_.call(e,e.conv.id.toString())}})};y(X,d=>{t(h)&&d(B)})}u(c,x),Ke()}st(["click"]);var oo=M('<div class="h-2"></div>');function no(c,e){qe(e,!0);let a=j(void 0),o,h;Ot(()=>{if(t(a))return o=new IntersectionObserver(x=>{x.forEach(C=>{C.isIntersecting?(h&&clearInterval(h),h=setInterval(()=>{var p;(p=e.onvisible)==null||p.call(e)},250)):h&&(clearInterval(h),h=void 0)})}),o.observe(t(a)),()=>{o.disconnect(),h&&clearInterval(h)}});var g=oo();Qt(g,x=>b(a,x),()=>t(a)),u(c,g),Ke()}const so=30,io={today:"Today",week:"This week",month:"This month",older:"Older"};var lo=M('<button class="flex size-9 items-center justify-center rounded-lg border bg-red-600 text-white shadow-sm transition-all hover:bg-red-700" aria-label="Delete Selected"><!></button>'),co=M('<button class="flex size-9 items-center justify-center rounded-lg border bg-white text-gray-700 shadow-sm transition-all hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600" title="Cancel Selection" aria-label="Cancel Selection"><!></button> <!>',1),vo=M('<button class="flex size-9 items-center justify-center rounded-lg border bg-white text-gray-700 shadow-sm transition-all hover:bg-gray-50 hover:shadow-md dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600" title="Select Conversations" aria-label="Select Conversations"><!></button>'),go=M('<img referrerpolicy="no-referrer" class="size-full rounded-full object-cover"/>'),uo=M('<span class="text-lg font-semibold uppercase"> </span>'),fo=M('<img referrerpolicy="no-referrer" class="size-full rounded-full object-cover"/>'),mo=M('<span class="text-xl font-semibold uppercase"> </span>'),ho=M('<p class="truncate text-xs text-gray-500 dark:text-gray-400"> </p>'),bo=M('<p class="mt-1 text-xs text-gray-400 dark:text-gray-500"> </p>'),po=M('<div class="fixed inset-0 z-40"></div> <div class="absolute right-0 top-12 z-50 w-64 rounded-xl border border-gray-200 bg-white shadow-2xl dark:border-gray-700 dark:bg-gray-800"><div class="border-b border-gray-200 p-4 dark:border-gray-700"><div class="flex items-center gap-3"><div class="flex size-12 items-center justify-center rounded-full border-2 border-gray-200 bg-indigo-500 text-white dark:border-gray-700"><!></div> <div class="flex-1 overflow-hidden"><p class="truncate font-semibold text-gray-900 dark:text-gray-100"> </p> <!> <!></div></div></div> <div class="p-2"><a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-700 transition-colors hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"><!> <span>Account</span></a> <a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-700 transition-colors hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"><!> <span>Settings</span></a> <hr class="my-1 border-gray-200 dark:border-gray-700"/> <button class="flex w-full items-center gap-3 rounded-lg px-3 py-2 text-red-600 transition-colors hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20"><!> <span>Sign Out</span></button></div></div>',1),xo=M('<div class="relative"><button class="flex size-9 items-center justify-center rounded-full border-2 border-gray-200 bg-indigo-500 text-white shadow-sm transition-all hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600" aria-label="User menu"><!></button> <!></div>'),yo=M('<button class="flex size-9 items-center justify-center rounded-full border-2 border-gray-300 bg-gray-100 transition-all hover:border-gray-400 hover:bg-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:hover:border-gray-500 dark:hover:bg-gray-600" aria-label="Sign in"><!></button>'),_o=M('<button class="absolute right-2.5 top-1/2 -translate-y-1/2 rounded p-0.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300" aria-label="Clear search"><!></button>'),wo=M('<h4 class="mb-1.5 mt-4 pl-0.5 text-sm text-gray-400 first:mt-0 dark:text-gray-500"> </h4> <!>',1),ko=M('<span class="ml-auto rounded-md bg-blue-600/10 px-1.5 py-0.5 text-xs text-blue-600 dark:bg-blue-600/20 dark:text-blue-400"> </span>'),Co=M('<button class="flex h-9 flex-none items-center gap-1.5 rounded-lg pl-2.5 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"><!> <span>MCP Servers</span> <!></button>'),Mo=M('<div class="sticky top-0 z-20 flex flex-none touch-none items-center justify-between bg-white px-1.5 py-3.5 dark:bg-gray-900 max-sm:pt-0"><a class="flex select-none items-center rounded-xl text-lg font-semibold"><!> </a> <div class="flex items-center gap-2"><!> <a class="flex size-9 items-center justify-center rounded-lg border bg-white text-gray-700 shadow-sm transition-all hover:bg-gray-50 hover:shadow-md dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600" title="New Chat (Ctrl/Cmd + Shift + O)" aria-label="New Chat"><!></a> <!></div></div> <div class="px-3 pb-2"><div class="relative"><input type="text" placeholder="Search conversations..." class="w-full rounded-lg border border-gray-300 bg-white py-2 pl-9 pr-9 text-sm text-gray-900 placeholder-gray-500 transition-colors focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-400"/> <!> <!></div></div> <div class="scrollbar-custom flex touch-pan-y flex-col gap-1 overflow-y-auto rounded-r-xl border border-l-0 border-gray-100 from-gray-50 px-3 pb-3 pt-2 text-[.9rem] dark:border-transparent dark:from-gray-800/30 max-sm:bg-gradient-to-t md:bg-gradient-to-l"><div class="flex flex-col gap-0.5"></div> <!></div> <div class="flex touch-none flex-col gap-1 rounded-r-xl border border-l-0 border-gray-100 p-3 text-sm dark:border-transparent md:mt-3 md:bg-gradient-to-l md:from-gray-50 md:dark:from-gray-800/30"><a class="flex h-9 flex-none items-center gap-1.5 rounded-lg pl-2.5 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"><!> <span>Models</span> <span class="ml-auto rounded-md bg-gray-500/5 px-1.5 py-0.5 text-xs text-gray-400 dark:bg-gray-500/20 dark:text-gray-400"> </span></a> <a class="flex h-9 flex-none items-center gap-1.5 rounded-lg pl-2.5 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"><!> <span>Google Images</span></a> <a class="flex flex-none items-center gap-1 rounded-lg pl-2.5 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"><!> <span>Google Videos</span></a> <a class="flex h-9 flex-none items-center gap-1.5 rounded-lg pl-2.5 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"><!> <span>Settings</span></a> <!> <button aria-label="Toggle theme" class="flex h-9 flex-none items-center gap-1.5 rounded-lg pl-2.5 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"><!> <span>Theme</span></button></div> <!>',1);function Aa(c,e){qe(e,!0);const a=()=>Ct(Cr,"$enabledServersCount",o),[o,h]=pa(),g=za(),x=Jt();let C=ue(e,"conversations",15),p=ue(e,"p",15,0),N=j(!0),S=j(!1),P=j("system");Xe(()=>Ha(({preference:r,isDark:v})=>{b(P,r,!0),b(S,v,!0)}));function X(r){if(!r)return"0m";const v=Math.floor(r/6e4),k=Math.floor(v/60),V=v%60;return k>0?`${k}h ${V}m`:`${V}m`}let B=_e(()=>{var r,v;return(((r=e.user)==null?void 0:r.onlineDuration)||0)+((v=e.user)!=null&&v.lastLoginAt?new Date().getTime()-new Date(e.user.lastLoginAt).getTime():0)});function d(r){ga.set(!0),ve()&&r.preventDefault()}function _(r){ve()&&r.preventDefault()}function w(){const r=oa(na).url.pathname+oa(na).url.search;window.location.href=ia("/login")+`?next=${encodeURIComponent(r)}`}async function E(){try{const r=ia("/logout"),v=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"}});(v.ok||v.redirected)&&(window.location.href=ia("/"))}catch(r){console.error("Logout failed:",r)}}function Y(r){var V,J;const v=r.currentTarget;if(!v)return;const k=((V=e.user)==null?void 0:V.username)||((J=e.user)==null?void 0:J.email)||"U";v.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(k)}&background=6366f1&color=fff&size=128`}const z=[new Date().setDate(new Date().getDate()-1),new Date().setDate(new Date().getDate()-7),new Date().setMonth(new Date().getMonth()-1)],O=oa(na).data.models.filter(r=>!r.unlisted).length;async function Z(){ur(p);const r=await x.conversations.get({query:{p:p()}}).then(Ue).catch(()=>null),v=r&&"conversations"in r?r.conversations:[];v.length===0&&b(N,!1),C([...C(),...v])}Xe(()=>{C().length<=so&&p(0)});let D=j(!1),I=j(!1),ae=j(""),re=j(!1),W=j(ha(new Set)),oe=_e(()=>t(ae).trim()?C().filter(r=>r.title.toLowerCase().includes(t(ae).toLowerCase())):C()),fe=_e(()=>({today:t(oe).filter(({updatedAt:r})=>r.getTime()>z[0]),week:t(oe).filter(({updatedAt:r})=>r.getTime()>z[1]&&r.getTime()<z[0]),month:t(oe).filter(({updatedAt:r})=>r.getTime()>z[2]&&r.getTime()<z[1]),older:t(oe).filter(({updatedAt:r})=>r.getTime()<z[2])}));function ke(){b(re,!t(re)),t(re)||t(W).clear()}function Ye(r){t(W).has(r)?t(W).delete(r):t(W).add(r),b(W,new Set(t(W)),!0)}async function je(){if(t(W).size===0)return;const r=`Delete ${t(W).size} conversation${t(W).size>1?"s":""}?`;if(!confirm(r))return;const v=Array.from(t(W));for(const k of v)try{await x.conversations({id:k}).delete().then(Ue),C(C().filter(V=>V.id!==k))}catch(V){console.error(`Failed to delete conversation ${k}:`,V)}t(W).clear(),b(re,!1)}var Oe=Mo(),Pe=H(Oe),Je=s(Pe),Ge=s(Je);kr(Ge,{classNames:"dark:invert mr-[2px]"});var Pt=i(Ge);n(Je);var it=i(Je,2),Re=s(it);{var ht=r=>{var v=co(),k=H(v);k.__click=ke;var V=s(k);La(V,{class:"text-xl"}),n(k);var J=i(k,2);{var G=ne=>{var be=lo();be.__click=je;var Q=s(be);Va(Q,{class:"text-xl"}),n(be),T(()=>L(be,"title",`Delete Selected (${t(W).size??""})`)),u(ne,be)};y(J,ne=>{t(W).size>0&&ne(G)})}u(r,v)},bt=r=>{var v=vo();v.__click=ke;var k=s(v);Fa(k,{class:"text-xl"}),n(v),u(r,v)};y(Re,r=>{t(re)?r(ht):r(bt,!1)})}var Ie=i(Re,2);Ie.__click=d;var pt=s(Ie);ya(pt,{classNames:"text-xl"}),n(Ie);var lt=i(Ie,2);{var It=r=>{var v=xo(),k=s(v);k.__click=()=>b(I,!t(I));var V=s(k);{var J=Q=>{var $=go();T(()=>{L($,"src",e.user.avatarUrl),L($,"alt",e.user.username||e.user.email)}),qt("error",$,Y),la($),u(Q,$)},G=Q=>{var $=uo(),K=s($,!0);n($),T(()=>ge(K,(e.user.username||e.user.email||"U")[0])),u(Q,$)};y(V,Q=>{e.user.avatarUrl?Q(J):Q(G,!1)})}n(k);var ne=i(k,2);{var be=Q=>{var $=po(),K=H($);K.__click=()=>b(I,!1);var Ze=i(K,2),He=s(Ze),at=s(He),Ne=s(at),se=s(Ne);{var ct=Ce=>{var ie=fo();T(()=>{L(ie,"src",e.user.avatarUrl),L(ie,"alt",e.user.username||e.user.email)}),qt("error",ie,Y),la(ie),u(Ce,ie)},Tt=Ce=>{var ie=mo(),Bt=s(ie,!0);n(ie),T(()=>ge(Bt,(e.user.username||e.user.email||"U")[0])),u(Ce,ie)};y(se,Ce=>{e.user.avatarUrl?Ce(ct):Ce(Tt,!1)})}n(Ne);var wt=i(Ne,2),dt=s(wt),pe=s(dt,!0);n(dt);var rt=i(dt,2);{var Dt=Ce=>{var ie=ho(),Bt=s(ie,!0);n(ie),T(()=>ge(Bt,e.user.email)),u(Ce,ie)};y(rt,Ce=>{e.user.email&&e.user.username&&Ce(Dt)})}var At=i(rt,2);{var Nt=Ce=>{var ie=bo(),Bt=s(ie);n(ie),T(tr=>ge(Bt,`Online: ${tr??""}`),[()=>X(t(B))]),u(Ce,ie)};y(At,Ce=>{t(B)&&Ce(Nt)})}n(wt),n(at),n(He);var de=i(He,2),zt=s(de);zt.__click=()=>b(I,!1);var Qa=s(zt);Ia(Qa,{class:"text-lg"}),ze(2),n(zt);var Ut=i(zt,2);Ut.__click=()=>b(I,!1);var $a=s(Ut);va($a,{class:"text-lg"}),ze(2),n(Ut);var aa=i(Ut,4);aa.__click=()=>{b(I,!1),E()};var er=s(aa);Sr(er,{class:"text-lg"}),ze(2),n(aa),n(de),n(Ze),T(()=>{ge(pe,e.user.username||e.user.email),L(zt,"href",`${F??""}/settings/account`),L(Ut,"href",`${F??""}/settings/application`)}),u(Q,$)};y(ne,Q=>{t(I)&&Q(be)})}n(v),u(r,v)},Qe=r=>{var v=yo();v.__click=w;var k=s(v);Ia(k,{class:"text-lg text-gray-600 dark:text-gray-300"}),n(v),u(r,v)};y(lt,r=>{var v,k;(v=e.user)!=null&&v.username||(k=e.user)!=null&&k.email?r(It):r(Qe,!1)})}n(it),n(Pe);var $e=i(Pe,2),f=s($e),l=s(f);Ea(l);var m=i(l,2);Rr(m,{class:"absolute left-2.5 top-1/2 -translate-y-1/2 text-lg text-gray-400"});var U=i(m,2);{var te=r=>{var v=_o();v.__click=()=>b(ae,"");var k=s(v);La(k,{class:"text-base"}),n(v),u(r,v)};y(U,r=>{t(ae)&&r(te)})}n(f),n($e);var le=i($e,2),me=s(le);Ma(me,21,()=>Object.entries(t(fe)),Sa,(r,v)=>{var k=_e(()=>or(t(v),2));let V=()=>t(k)[0],J=()=>t(k)[1];var G=Se(),ne=H(G);{var be=Q=>{var $=wo(),K=H($),Ze=s(K,!0);n(K);var He=i(K,2);Ma(He,17,J,Sa,(at,Ne)=>{{let se=_e(()=>t(W).has(t(Ne).id));ro(at,{get conv(){return t(Ne)},get oneditConversationTitle(){return e.oneditConversationTitle},get ondeleteConversation(){return e.ondeleteConversation},get isSelectionMode(){return t(re)},get isSelected(){return t(se)},onToggleSelection:()=>Ye(t(Ne).id)})}}),T(()=>ge(Ze,io[V()])),u(Q,$)};y(ne,Q=>{J().length&&Q(be)})}u(r,G)}),n(me);var he=i(me,2);{var Lt=r=>{no(r,{onvisible:Z})};y(he,r=>{t(N)&&r(Lt)})}n(le);var Le=i(le,2),Ee=s(Le);Ee.__click=_;var Ae=s(Ee);Xa(Ae,{class:"text-lg"});var xt=i(Ae,4),Ve=s(xt,!0);n(xt),n(Ee);var Fe=i(Ee,2);Fe.__click=_;var R=s(Fe);Ra(R,{classNames:"text-lg"}),ze(2),n(Fe);var q=i(Fe,2);q.__click=_;var ce=s(q);Lr(ce,{classNames:"text-lg"}),ze(2),n(q);var Te=i(q,2);Te.__click=_;var et=s(Te);va(et,{class:"text-lg"}),ze(2),n(Te);var yt=i(Te,2);{var Ft=r=>{var v=Co();v.__click=()=>b(D,!0);var k=s(v);ja(k,{classNames:"text-[1.05rem]"});var V=i(k,4);{var J=G=>{var ne=ko(),be=s(ne,!0);n(ne),T(()=>ge(be,a())),u(G,ne)};y(V,G=>{a()>0&&G(J)})}n(v),u(r,v)};y(yt,r=>{var v,k;((v=e.user)!=null&&v.username||(k=e.user)!=null&&k.email)&&r(Ft)})}var tt=i(yt,2);tt.__click=()=>{Wa()};var $t=s(tt);{var ea=r=>{var v=Se(),k=H(v);{var V=G=>{Kt(G,{})},J=G=>{var ne=Se(),be=H(ne);{var Q=K=>{Hr(K,{class:"text-zinc-400"})},$=K=>{var Ze=Se(),He=H(Ze);{var at=se=>{Ka(se,{class:"text-red-400"})},Ne=se=>{var ct=Se(),Tt=H(ct);{var wt=pe=>{ua(pe,{})},dt=pe=>{var rt=Se(),Dt=H(rt);{var At=de=>{qa(de,{class:"text-zinc-950"})},Nt=de=>{Kt(de,{})};y(Dt,de=>{t(P)==="indigo"?de(At):de(Nt,!1)},!0)}u(pe,rt)};y(Tt,pe=>{t(P)==="red"?pe(wt):pe(dt,!1)},!0)}u(se,ct)};y(He,se=>{t(P)==="stone"?se(at):se(Ne,!1)},!0)}u(K,Ze)};y(be,K=>{t(P)==="dark"?K(Q):K($,!1)},!0)}u(G,ne)};y(k,G=>{t(P)==="light"||t(P)==="system"&&!t(S)?G(V):G(J,!1)})}u(r,v)};y($t,r=>{r(ea)})}ze(2),n(tt),n(Le);var _t=i(Le,2);{var ta=r=>{Oa(r,{onclose:()=>b(D,!1)})};y(_t,r=>{t(D)&&r(ta)})}T(()=>{L(Je,"href",`${g.PUBLIC_ORIGIN??""}${F??""}/`),ge(Pt,` ${g.PUBLIC_APP_NAME??""}`),L(Ie,"href",`${F}/`),L(Ee,"href",`${F??""}/models`),ge(Ve,O),L(Fe,"href",`${F??""}/google-images`),L(q,"href",`${F??""}/google-videos`),L(Te,"href",`${F??""}/settings/application`)}),_r(l,()=>t(ae),r=>b(ae,r)),u(c,Oe),Ke(),h()}st(["click"]);var So=Be('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 12 12"><path d="M10.4646 6.85139C10.7605 6.85139 11 7.09093 11 7.38679V7.78965C11 8.35479 11.0013 8.82459 10.9581 9.20053C10.9136 9.58762 10.8165 9.94247 10.5745 10.2495C10.478 10.3719 10.3672 10.4826 10.2448 10.5791C9.93774 10.8212 9.58211 10.9183 9.19497 10.9628C8.81915 11.006 8.34979 11.0055 7.78496 11.0055H4.21503C3.6502 11.0055 3.18083 11.006 2.80502 10.9628C2.41788 10.9183 2.06224 10.8212 1.75515 10.5791C1.63274 10.4826 1.52198 10.3718 1.42554 10.2495C1.18354 9.94248 1.08635 9.58761 1.04186 9.20053C0.998661 8.82458 1 8.35479 1 7.78965V7.38679C1.00003 7.09093 1.23954 6.85139 1.53541 6.85139C1.83128 6.85139 2.07078 7.09093 2.07081 7.38679V7.78965C2.07081 8.38023 2.07202 8.77788 2.10656 9.07845C2.13978 9.36728 2.19822 9.49857 2.26701 9.58595C2.31143 9.64228 2.3625 9.69333 2.41873 9.73767C2.50614 9.80657 2.63774 9.86487 2.9271 9.89812C3.2276 9.93264 3.62467 9.93387 4.21503 9.93387H7.78496C8.37532 9.93387 8.77238 9.93264 9.07289 9.89812C9.36227 9.86487 9.49384 9.80658 9.58126 9.73767C9.63752 9.69329 9.68862 9.64222 9.73298 9.58595C9.80176 9.49856 9.86021 9.3673 9.89343 9.07845C9.92796 8.77788 9.92918 8.38023 9.92918 7.78965V7.38679C9.92921 7.09093 10.1687 6.85139 10.4646 6.85139ZM6.01046 1.00034C6.15239 1.0004 6.2885 1.05697 6.3889 1.15729L9.36849 4.13601C9.57767 4.34519 9.57759 4.68454 9.36849 4.89377C9.15925 5.10283 8.8199 5.10294 8.61073 4.89377L6.54586 2.8289V8.02945C6.54586 8.32526 6.30624 8.56559 6.01046 8.56572C5.71472 8.56555 5.47418 8.32523 5.47418 8.02945V2.8289L3.40931 4.89377C3.20011 5.10268 2.86157 5.10279 2.65243 4.89377C2.44341 4.68459 2.44341 4.34519 2.65243 4.13601L5.63114 1.15729C5.73154 1.0569 5.86848 1.00042 6.01046 1.00034Z" fill="currentColor"></path></svg>');function Ya(c,e){let a=ue(e,"classNames",3,"");var o=So();T(()=>we(o,0,nt(a()))),u(c,o)}var Po=Be('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 16 16"><path d="M8.795 10.418a.84.84 0 1 1 0 1.681H1.907a.84.84 0 0 1 0-1.681h6.888ZM14.093 3.9a.841.841 0 0 1 0 1.682H1.907a.84.84 0 0 1 0-1.682h12.186Z" fill="currentColor"></path></svg>');function Io(c,e){let a=ue(e,"classNames",3,"");var o=Po();T(()=>we(o,0,nt(a()))),u(c,o)}function Na(c){return Object.prototype.toString.call(c)==="[object Date]"}function fa(c,e,a,o){if(typeof a=="number"||Na(a)){const h=o-a,g=(a-e)/(c.dt||1/60),x=c.opts.stiffness*h,C=c.opts.damping*g,p=(x-C)*c.inv_mass,N=(g+p)*c.dt;return Math.abs(N)<c.opts.precision&&Math.abs(h)<c.opts.precision?o:(c.settled=!1,Na(a)?new Date(a.getTime()+N):a+N)}else{if(Array.isArray(a))return a.map((h,g)=>fa(c,e[g],a[g],o[g]));if(typeof a=="object"){const h={};for(const g in a)h[g]=fa(c,e[g],a[g],o[g]);return h}else throw new Error(`Cannot spring ${typeof a} values`)}}var vt,gt,ut,De,ot,ft,Mt,mt,jt,We,St,Yt,Ja;const _a=class _a{constructor(e,a={}){Me(this,Yt);Me(this,vt,j(.15));Me(this,gt,j(.8));Me(this,ut,j(.01));Me(this,De);Me(this,ot);Me(this,ft);Me(this,Mt,0);Me(this,mt,1);Me(this,jt,0);Me(this,We,null);Me(this,St,null);xe(this,De,j(e)),xe(this,ot,j(e)),typeof a.stiffness=="number"&&(A(this,vt).v=Xt(a.stiffness,0,1)),typeof a.damping=="number"&&(A(this,gt).v=Xt(a.damping,0,1)),typeof a.precision=="number"&&(A(this,ut).v=a.precision)}static of(e,a){const o=new _a(e(),a);return nr(()=>{o.set(e())}),o}set(e,a){var h,g;if((h=A(this,St))==null||h.reject(new Error("Aborted")),a!=null&&a.instant||A(this,De).v===void 0)return(g=A(this,We))==null||g.abort(),xe(this,We,null),b(A(this,De),b(A(this,ot),e)),xe(this,ft,e),Promise.resolve();a!=null&&a.preserveMomentum&&(xe(this,mt,0),xe(this,jt,a.preserveMomentum));var o=xe(this,St,sr());return o.promise.catch(ba),ka(this,Yt,Ja).call(this,e).then(()=>{o===A(this,St)&&o.resolve(void 0)}),o.promise}get current(){return t(A(this,De))}get damping(){return t(A(this,gt))}set damping(e){b(A(this,gt),Xt(e,0,1))}get precision(){return t(A(this,ut))}set precision(e){b(A(this,ut),e)}get stiffness(){return t(A(this,vt))}set stiffness(e){b(A(this,vt),Xt(e,0,1))}get target(){return t(A(this,ot))}set target(e){this.set(e)}};vt=new WeakMap,gt=new WeakMap,ut=new WeakMap,De=new WeakMap,ot=new WeakMap,ft=new WeakMap,Mt=new WeakMap,mt=new WeakMap,jt=new WeakMap,We=new WeakMap,St=new WeakMap,Yt=new WeakSet,Ja=function(e){var o;if(b(A(this,ot),e),(o=A(this,De)).v??(o.v=e),A(this,ft)??xe(this,ft,A(this,De).v),!A(this,We)){xe(this,Mt,pr.now());var a=1e3/(A(this,jt)*60);A(this,We)??xe(this,We,xr(h=>{xe(this,mt,Math.min(A(this,mt)+a,1));const g=Math.min(h-A(this,Mt),1e3/30),x={inv_mass:A(this,mt),opts:{stiffness:A(this,vt).v,damping:A(this,gt).v,precision:A(this,ut).v},settled:!0,dt:g*60/1e3};var C=fa(x,A(this,ft),A(this,De).v,A(this,ot).v);return xe(this,ft,A(this,De).v),xe(this,Mt,h),b(A(this,De),C),x.settled&&xe(this,We,null),!x.settled}))}return A(this,We).promise};let ma=_a;function Xt(c,e,a){return Math.max(e,Math.min(a,c))}let ye=j(!1);var Lo=M('<span class="max-w-full truncate px-4 first-letter:uppercase" data-testid="chat-title"> </span>'),To=M('<button type="button" class="flex size-8 shrink-0 items-center justify-center text-lg" aria-label="Share conversation"><!></button>'),Do=M('<button type="button" class="fixed inset-0 z-20 cursor-default bg-black/30 md:hidden" aria-label="Close mobile navigation"></button>'),Ao=M('<nav class="flex h-12 items-center justify-between rounded-b-xl border-b bg-gray-50 px-3 dark:border-gray-800 dark:bg-gray-800/30 dark:shadow-xl md:hidden"><button type="button" class="-ml-3 flex size-12 shrink-0 items-center justify-center text-lg" aria-label="Open menu"><!></button> <div class="flex h-full items-center justify-center overflow-hidden"><!></div> <div class="flex items-center"><!> <a class="flex size-8 shrink-0 items-center justify-center text-lg"><!></a></div></nav> <!> <nav><!></nav>',1);function No(c,e){qe(e,!0);const a=()=>Ct(Za,"$loading",o),[o,h]=pa();let g=ue(e,"title",15),x,C=j(void 0);const p=_e(()=>{var l,m;return!!((m=(l=ee.data)==null?void 0:l.publicConfig)!=null&&m.isHuggingChat)}),N=_e(()=>{var l,m;return t(p)&&!a()&&!!((l=ee.params)!=null&&l.id)&&((m=ee.route.id)==null?void 0:m.startsWith("/conversation/"))}),S=85;Xe(()=>{g(g()??"New Chat")}),mr(()=>{b(ye,!1)});let P=_e(()=>t(ye)&&x),X=_e(()=>!t(ye)&&Tr&&document.activeElement===x);Xe(()=>{var l;t(P)||t(X)&&((l=t(C))==null||l.focus())});function B(){b(ye,!1)}const d=.4,_=10;let w=null,E=null,Y=0,z=j(!1),O=j(-100),Z=!1,D=null,I=!1;const ae=_e(()=>t(z)?t(O):t(ye)?0:-100),re=ma.of(()=>t(ae),{stiffness:.2,damping:.8});function W(l){var he;if((he=document.getElementById("app"))!=null&&he.hasAttribute("inert"))return;const m=l.changedTouches[0];w=m,Y=Date.now(),D=null;const U=window.innerWidth*(S/100),te=t(ye)&&m.clientX<U,me=l.target.closest("button, a, input, [role='button']");!t(ye)&&m.clientX<40?(me||l.preventDefault(),I=!0,Z=!1):t(ye)&&!te?(I=!0,b(z,!0),Z=!0,b(O,0),D="horizontal"):t(ye)&&te&&(I=!0,Z=!0)}function oe(l){if(!w||!I)return;const m=l.changedTouches[0],U=m.clientX-w.clientX,te=m.clientY-w.clientY;if(D===null){const me=Math.abs(U),he=Math.abs(te);if(me>_||he>_)if(me>he)D="horizontal",b(z,!0),b(O,Z?0:-100,!0);else{D="vertical",I=!1;return}else return}if(D!=="horizontal")return;const le=window.innerWidth*(S/100);Z?b(O,Math.max(-100,Math.min(0,U/le*100)),!0):b(O,Math.max(-100,Math.min(0,-100+U/le*100)),!0),E=m.clientX}function fe(l){if(!I)return;if(!t(z)||!w){Ye();return}const m=l.changedTouches[0],U=Date.now()-Y,te=m.clientX-w.clientX;if(Math.abs(te)/U>d)b(ye,te>0);else{const me=E!==null?m.clientX-E:te;b(ye,me>0)}Ye()}function ke(){t(z)&&b(ye,Z,!0),Ye()}function Ye(){b(z,!1),I=!1,w=null,E=null,D=null}Ot(()=>{window.addEventListener("touchstart",W,{passive:!1}),window.addEventListener("touchmove",oe,{passive:!0}),window.addEventListener("touchend",fe,{passive:!0}),window.addEventListener("touchcancel",ke,{passive:!0})}),ca(()=>{window.removeEventListener("touchstart",W),window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",fe),window.removeEventListener("touchcancel",ke)});var je=Ao(),Oe=H(je),Pe=s(Oe);Pe.__click=()=>b(ye,!0);var Je=s(Pe);Io(Je,{}),n(Pe),Qt(Pe,l=>b(C,l),()=>t(C));var Ge=i(Pe,2),Pt=s(Ge);{var it=l=>{var m=Lo(),U=s(m,!0);n(m),T(()=>ge(U,g())),u(l,m)};y(Pt,l=>{var m;(m=ee.params)!=null&&m.id&&l(it)})}n(Ge);var Re=i(Ge,2),ht=s(Re);{var bt=l=>{var m=To();m.__click=()=>{t(N)&&Ga.open()};var U=s(m);{let te=_e(()=>t(N)?"":"opacity-40");Ya(U,{get classNames(){return t(te)}})}n(m),T(()=>m.disabled=!t(N)),u(l,m)};y(ht,l=>{t(p)&&l(bt)})}var Ie=i(ht,2);Ie.__click=l=>{ve()&&l.preventDefault()};var pt=s(Ie);ya(pt,{}),n(Ie),n(Re),n(Oe);var lt=i(Oe,2);{var It=l=>{var m=Do();m.__click=B,T(U=>Ca(m,`opacity: ${U??""}; will-change: opacity;`),[()=>Math.max(0,Math.min(1,(100+re.current)/100))]),u(l,m)};y(lt,l=>{(t(ye)||t(z))&&l(It)})}var Qe=i(lt,2);let $e;var f=s(Qe);Ua(f,()=>e.children??ba),n(Qe),T(()=>{L(Ie,"href",`${F??""}/`),Ca(Qe,`transform: translateX(${(t(z)?t(O):re.current)??""}%); width: 85%; will-change: transform;`),$e=we(Qe,1,`fixed bottom-0 left-0 top-0 z-30 grid max-h-dvh grid-cols-1\r
	grid-rows-[auto,1fr,auto,auto] rounded-r-xl bg-white pt-4 dark:bg-gray-900 md:hidden`,null,$e,{"shadow-[5px_0_15px_0_rgba(0,0,0,0.3)]":t(ye)||t(z)})}),u(c,je),Ke(),h()}st(["click"]);var zo=M(`<div class="flex w-full flex-col gap-8 bg-white bg-gradient-to-b to-transparent px-6 pb-7 dark:bg-black dark:from-white/10 dark:to-white/5"><div class="relative -mx-6 grid h-48 select-none place-items-center bg-gradient-to-t from-black/5 dark:from-white/10"><video class="size-full object-cover" autoplay src="https://cdn-uploads.huggingface.co/production/uploads/5f17f0a0925b9863e28ad517/WSOTmErfqlGNZwSqdfrA7.mp4"></video> <div class="absolute bottom-3 right-3 rounded-lg border border-blue-500/20 bg-blue-500/20 px-2 py-0.5 text-sm font-semibold text-blue-500">Now with MCP!</div></div> <div class="text-gray-700 dark:text-gray-200"><p class="text-[15px] leading-relaxed"> </p> <p class="mt-3 text-[15px] leading-relaxed"><!> Omni automatically picks the best AI model to give
				you optimal answers depending on your requests.</p> <p class="mt-3 text-[15px] leading-relaxed">You can also choose from any available open source models to chat with directly.</p></div> <button class="k w-full rounded-xl bg-black px-5 py-2.5 text-base font-medium text-white hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200">Start chatting</button></div>`,2);function Uo(c,e){qe(e,!0);const a=za();xa(c,{closeOnBackdrop:!1,get onclose(){return e.close},width:"!max-w-[420px] !m-4",children:(o,h)=>{var g=zo(),x=s(g),C=s(x);C.muted=!0,ze(2),n(x);var p=i(x,2),N=s(p),S=s(N);n(N);var P=i(N,2),X=s(P);Dr(X,{classNames:"-translate-y-px"}),ze(),n(P),ze(2),n(p);var B=i(p,2);B.__click=function(...d){var _;(_=e.close)==null||_.apply(this,d)},n(g),T(()=>ge(S,`Welcome to ${a.PUBLIC_APP_NAME??""}, the chat app powered by open source AI models.`)),u(o,g)},$$slots:{default:!0}}),Ke()}st(["click"]);var Bo=M('<button name="sidebar-toggle" aria-label="Toggle sidebar navigation"><div></div> <div></div></button>');function Eo(c,e){var a=Bo();a.__click=function(...g){var x;(x=e.onClick)==null||x.apply(this,g)};var o=s(a),h=i(o,2);n(a),T(()=>{we(a,1,`${e.classNames??""} group flex h-16 w-6 flex-col items-center justify-center -space-y-1 outline-none *:h-3 *:w-1 *:rounded-full *:hover:bg-gray-300 dark:*:hover:bg-gray-600 max-md:hidden ${e.isCollapsed?"*:bg-gray-200 dark:*:bg-gray-700":"*:bg-gray-200/70 dark:*:bg-gray-800"}`),we(o,1,nt(e.isCollapsed?"group-hover:-rotate-[20deg]":"group-hover:rotate-[20deg]")),we(h,1,nt(e.isCollapsed?"group-hover:rotate-[20deg]":"group-hover:-rotate-[20deg]"))}),u(c,a)}st(["click"]);function Zo(c,e){qe(e,!0);const a=1e3,o=3*6e4,h=Jt(),g=new Map,x=new Set,C=new Map,p=new Map;ir(()=>{let N=!1;const S=(...d)=>{},P=(d,_)=>{const w=g.get(d);w&&(w(),g.delete(d),x.delete(d),C.delete(d),p.delete(d))},X=async d=>{var w,E,Y,z;if(N||x.has(d))return;const _=Ta.find(O=>O.id===d);if(_&&Date.now()-_.startedAt>o){sa(d),P(d),await Et(kt.ConversationList),await Et(kt.Conversation);return}x.add(d);try{const O=await h.conversations({id:d}).get({query:{}}),Z=Ue(O),I=[...(Z==null?void 0:Z.messages)??[]].reverse().find(ke=>ke.from==="assistant"),ae=((w=I==null?void 0:I.updates)==null?void 0:w.some(ke=>ke.type===Pa.FinalAnswer))??!1,re=((E=I==null?void 0:I.updates)==null?void 0:E.some(ke=>ke.type===Pa.Status&&ke.status===Mr.Error))??!1,W=I?JSON.stringify({id:I.id,updatedAt:I.updatedAt,contentLength:((Y=I.content)==null?void 0:Y.length)??0,updatesLength:((z=I.updates)==null?void 0:z.length)??0}):"__none__",oe=C.get(d);let fe=!1;I?(C.set(d,W),W!==oe&&(fe=!0)):C.has(d)&&(C.delete(d),fe=!0),I&&(ae||re)&&(sa(d),C.delete(d),p.delete(d),fe=!0,S("complete",d,ae?"final":"error"),await Et(kt.ConversationList)),fe&&await Et(kt.Conversation),p.delete(d)}catch(O){console.error("Background generation poll failed",d,O);const Z=(p.get(d)??0)+1;p.set(d,Z),Z>=3&&(sa(d),C.delete(d),p.delete(d),await Et(kt.ConversationList))}finally{x.delete(d)}},B=d=>{if(g.has(d.id))return;const _=setInterval(()=>{X(d.id)},a);g.set(d.id,()=>clearInterval(_)),X(d.id),S("start",d.id)};return Xe(()=>{const d=Ta;if(N)return;const _=new Set(d.map(w=>w.id));for(const w of g.keys())_.has(w)||P(w);for(const w of d)B(w)}),()=>{N=!0;for(const d of g.values())d();g.clear(),x.clear(),C.clear(),p.clear()}}),Ke()}var jo=Be('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="14" rx="3" ry="3"></rect><path d="M7 10h6"></path><path d="M7 14h3"></path><path d="M8 20l3-2h7"></path></svg>');function Oo(c,e){let a=ue(e,"classNames",3,"");var o=jo();T(()=>we(o,0,nt(a()))),u(c,o)}var Go=M('<meta property="og:title"/> <meta property="og:type" content="website"/> <meta property="og:url"/> <meta property="og:image"/> <meta property="og:description"/>',1),Ro=M('<link rel="icon" type="image/svg+xml" media="(prefers-color-scheme: light)"/> <link rel="icon" type="image/svg+xml" media="(prefers-color-scheme: dark)"/>',1),Vo=M('<link rel="icon" type="image/svg+xml"/>'),Fo=Ba(M("<script async><\/script><!>",1)),Ho=M('<meta name="apple-itunes-app"/>'),Wo=M('<meta name="description"/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@huggingface"/>  <!> <link rel="icon" type="image/svg+xml"/> <!> <link rel="apple-touch-icon"/> <link rel="manifest"/> <!> <!>',1),Xo=M('<img referrerpolicy="no-referrer" class="size-full rounded-full object-cover"/>'),qo=M('<span class="text-xs font-semibold uppercase"> </span>'),Ko=M('<div class="pointer-events-none fixed inset-y-0 left-0 z-10 hidden w-14 flex-col justify-between border-r border-gray-800/60 bg-[#181a20] py-4 text-gray-300 md:flex"><div class="flex flex-col items-center gap-4"><a class="pointer-events-auto flex h-9 w-9 items-center justify-center overflow-hidden rounded-full border-2 border-gray-200 bg-indigo-500 text-xs font-semibold uppercase text-white dark:border-gray-700" aria-label="Account" title="Account settings"><!></a> <a class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="Home" title="Chat home"><!></a> <a class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="New Chat" title="New Chat"><!></a> <a class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="Models" title="Models"><!></a> <a class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="Gallery" title="Gallery"><!></a> <a class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="Google Images" title="Google Images"><!></a> <a class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="Google Videos" title="Google Videos"><!></a> <button type="button" class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="MCP Servers" title="MCP Servers"><!></button></div> <div class="flex flex-col items-center gap-4"><button type="button" class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="Toggle theme" title="Theme"><!></button> <a class="pointer-events-auto flex h-9 w-9 items-center justify-center rounded-lg text-gray-300 hover:bg-white/10" aria-label="Settings" title="Settings"><!></a></div></div>'),Yo=M('<button type="button" aria-label="Share conversation"><!></button>'),Jo=Ba(M(`<script>
			((window.plausible =
				window.plausible ||
				function () {
					(plausible.q = plausible.q || []).push(arguments);
				}),
				(plausible.init =
					plausible.init ||
					function (i) {
						plausible.o = i || {};
					}));
			plausible.init();
		<\/script><!>`,1)),Qo=M('<!> <!> <div><!> <!> <!> <!> <nav class="grid max-h-dvh grid-cols-1 grid-rows-[auto,1fr,auto] overflow-hidden *:w-[290px] max-md:hidden"><!></nav> <!> <!> <!> <!></div>',1);function Zn(c,e){qe(e,!0);const a=()=>Ct(Wt,"$error",x),o=()=>Ct(Da,"$titleUpdate",x),h=()=>Ct(ae,"$settings",x),g=()=>Ct(Za,"$loading",x),[x,C]=pa();lr("publicConfig",e.data.publicConfig);const p=e.data.publicConfig,N=Jt();let S=j(ha(e.data.conversations));Xe(()=>{e.data.conversations&&da(()=>b(S,e.data.conversations,!0))});let P=j(!1),X=j(!1),B=j("system"),d,_=j(!1),w,E=j(void 0);async function Y(){a()&&t(E)&&a()!==t(E)&&(clearTimeout(w),b(E,void 0),await new Promise(f=>setTimeout(f,300))),b(E,a(),!0),w=setTimeout(()=>{Ht(Wt,void 0),b(E,void 0)},5e3)}function z(f){if(ga.set(!0),ve()){f.preventDefault();return}Zt(`${F}/`,{invalidateAll:!0})}let O=_e(()=>{var f,l;return p.isHuggingChat&&!!((f=ee.params)!=null&&f.id)&&((l=ee.route.id)==null?void 0:l.startsWith("/conversation/"))});async function Z(f){N.conversations({id:f}).delete().then(Ue).then(async()=>{b(S,t(S).filter(l=>l.id!==f),!0),ee.params.id===f&&await Zt(`${F}/`,{invalidateAll:!0})}).catch(l=>{console.error(l),Ht(Wt,String(l))})}async function D(f,l){N.conversations({id:f}).patch({title:l}).then(Ue).then(async()=>{b(S,t(S).map(m=>m.id===f?{...m,title:l}:m),!0)}).catch(m=>{console.error(m),Ht(Wt,String(m))})}function I(){ve()||ae.set({welcomeModalSeen:!0})}ca(()=>{clearTimeout(w),d==null||d()}),Xe(()=>{a()&&Y()}),Xe(()=>{var f;if(o()){const l=t(S).findIndex(({id:m})=>{var U;return m===((U=o())==null?void 0:U.convId)});l!=-1&&(t(S)[l].title=((f=o())==null?void 0:f.title)??t(S)[l].title),Ht(Da,null)}});const ae=ar(e.data.settings);Ot(async()=>{{d=Ha(({isDark:m,preference:U})=>{b(X,m,!0),b(B,U,!0)});const l=Pr();Ir(l)}if(ee.url.searchParams.has("model")&&await ae.instantSet({activeModel:ee.url.searchParams.get("model")??h().activeModel}).then(async()=>{const l=new URLSearchParams(ee.url.searchParams.toString());l.delete("model"),await Zt(`${F}/?${l.toString()}`,{invalidateAll:!0})}),ee.url.searchParams.has("token")){const l=ee.url.searchParams.get("token");await fetch(`${F}/api/user/validate-token`,{method:"POST",body:JSON.stringify({token:l})}).then(()=>{Zt(`${F}/`,{invalidateAll:!0})})}const f=l=>{var le;const m=document.getElementById("app");if(m!=null&&m.hasAttribute("inert"))return;const U=((le=l.key)==null?void 0:le.toLowerCase())==="o",te=l.metaKey||l.ctrlKey;if(U&&l.shiftKey&&te){if(l.preventDefault(),ga.set(!0),ve())return;Zt(`${F}/`,{invalidateAll:!0})}};window.addEventListener("keydown",f,{capture:!0}),ca(()=>window.removeEventListener("keydown",f,{capture:!0}))});let re=_e(()=>{var f;return["/models","/privacy"].includes(ee.route.id??"")?"":(f=t(S).find(l=>l.id===ee.params.id))==null?void 0:f.title}),W=_e(()=>{var f;return!h().welcomeModalSeen&&!(ee.data.shared===!0&&((f=ee.route.id)!=null&&f.startsWith("/conversation/")))});var oe=Qo();vr("12qhfyh",f=>{var l=Wo(),m=H(l),U=i(m,6);{var te=R=>{var q=Go(),ce=H(q),Te=i(ce,4),et=i(Te,2),yt=i(et,2);T(()=>{L(ce,"content",p.PUBLIC_APP_NAME),L(Te,"content",`${(p.PUBLIC_ORIGIN||ee.url.origin)??""}${F??""}`),L(et,"content",`${p.assetPath??""}/thumbnail.png`),L(yt,"content",p.PUBLIC_APP_DESCRIPTION)}),u(R,q)};y(U,R=>{ee.url.pathname.includes("/models/")||R(te)})}var le=i(U,2),me=i(le,2);{var he=R=>{var q=Ro(),ce=H(q),Te=i(ce,2);T(()=>{L(ce,"href",`${p.assetPath??""}/favicon.svg`),L(Te,"href",`${p.assetPath??""}/favicon-dark.svg`)}),u(R,q)},Lt=R=>{var q=Vo();T(()=>L(q,"href",`${p.assetPath??""}/favicon-dev.svg`)),u(R,q)};y(me,R=>{p.PUBLIC_ORIGIN?R(he):R(Lt,!1)})}var Le=i(me,2),Ee=i(Le,2),Ae=i(Ee,2);{var xt=R=>{var q=Fo(),ce=H(q);i(ce),T(()=>L(ce,"src",p.PUBLIC_PLAUSIBLE_SCRIPT_URL)),u(R,q)};y(Ae,R=>{p.PUBLIC_PLAUSIBLE_SCRIPT_URL&&R(xt)})}var Ve=i(Ae,2);{var Fe=R=>{var q=Ho();T(()=>L(q,"content",`app-id=${p.PUBLIC_APPLE_APP_ID}`)),u(R,q)};y(Ve,R=>{p.PUBLIC_APPLE_APP_ID&&R(Fe)})}T(()=>{L(m,"content",p.PUBLIC_APP_DESCRIPTION),L(le,"href",`${p.assetPath??""}/icon.svg`),L(Le,"href",`${p.assetPath??""}/apple-touch-icon.png`),L(Ee,"href",`${p.assetPath??""}/manifest.json`)}),cr(()=>{dr.title=p.PUBLIC_APP_NAME??""}),u(f,l)});var fe=H(oe);{var ke=f=>{Uo(f,{close:I})};y(fe,f=>{t(W)&&f(ke)})}var Ye=i(fe,2);Zo(Ye,{});var je=i(Ye,2),Oe=s(je);{let f=_e(()=>t(P)?"left-0":"left-[290px]");Eo(Oe,{get isCollapsed(){return t(P)},onClick:()=>b(P,!t(P)),get classNames(){return`absolute inset-y-0 z-20 my-auto ${t(f)??""} *:transition-transform`}})}var Pe=i(Oe,2);{var Je=f=>{var l=Ko(),m=s(l),U=s(m);U.__click=r=>{ve()&&r.preventDefault()};var te=s(U);{var le=r=>{var v=Xo();T(()=>{L(v,"src",e.data.user.avatarUrl),L(v,"alt",e.data.user.username||e.data.user.email)}),qt("error",v,k=>{var J,G;const V=k.currentTarget;V.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(((J=e.data.user)==null?void 0:J.username)||((G=e.data.user)==null?void 0:G.email)||"U")}&background=6366f1&color=fff&size=128`}),la(v),u(r,v)},me=r=>{var v=qo(),k=s(v,!0);n(v),T(()=>{var V,J;return ge(k,(((V=e.data.user)==null?void 0:V.username)||((J=e.data.user)==null?void 0:J.email)||"U")[0])}),u(r,v)};y(te,r=>{var v;(v=e.data.user)!=null&&v.avatarUrl?r(le):r(me,!1)})}n(U);var he=i(U,2);he.__click=r=>{ve()&&r.preventDefault()};var Lt=s(he);Oo(Lt,{classNames:"size-6"}),n(he);var Le=i(he,2);Le.__click=z;var Ee=s(Le);ya(Ee,{classNames:"text-xl"}),n(Le);var Ae=i(Le,2);Ae.__click=r=>{ve()&&r.preventDefault()};var xt=s(Ae);Xa(xt,{class:"text-xl"}),n(Ae);var Ve=i(Ae,2);Ve.__click=r=>{ve()&&r.preventDefault()};var Fe=s(Ve);Ar(Fe,{class:"text-xl"}),n(Ve);var R=i(Ve,2);R.__click=r=>{ve()&&r.preventDefault()};var q=s(R);Ra(q,{classNames:"text-xl"}),n(R);var ce=i(R,2);ce.__click=r=>{ve()&&r.preventDefault()};var Te=s(ce);Nr(Te,{class:"text-xl"}),n(ce);var et=i(ce,2);et.__click=()=>{ve()||b(_,!0)};var yt=s(et);ja(yt,{classNames:"size-5"}),n(et),n(m);var Ft=i(m,2),tt=s(Ft);tt.__click=()=>{Wa()};var $t=s(tt);{var ea=r=>{var v=Se(),k=H(v);{var V=G=>{Kt(G,{})},J=G=>{var ne=Se(),be=H(ne);{var Q=K=>{ua(K,{classNames:"text-zinc-400"})},$=K=>{var Ze=Se(),He=H(Ze);{var at=se=>{Ka(se,{class:"text-red-400"})},Ne=se=>{var ct=Se(),Tt=H(ct);{var wt=pe=>{ua(pe,{})},dt=pe=>{var rt=Se(),Dt=H(rt);{var At=de=>{qa(de,{class:"text-zinc-950"})},Nt=de=>{Kt(de,{})};y(Dt,de=>{t(B)==="indigo"?de(At):de(Nt,!1)},!0)}u(pe,rt)};y(Tt,pe=>{t(B)==="red"?pe(wt):pe(dt,!1)},!0)}u(se,ct)};y(He,se=>{t(B)==="stone"?se(at):se(Ne,!1)},!0)}u(K,Ze)};y(be,K=>{t(B)==="dark"?K(Q):K($,!1)},!0)}u(G,ne)};y(k,G=>{t(B)==="light"||t(B)==="system"&&!t(X)?G(V):G(J,!1)})}u(r,v)};y($t,r=>{r(ea)})}n(tt);var _t=i(tt,2);_t.__click=r=>{ve()&&r.preventDefault()};var ta=s(_t);va(ta,{class:"text-xl"}),n(_t),n(Ft),n(l),T(()=>{L(U,"href",`${F??""}/settings/account`),L(he,"href",`${F??""}/`),L(Le,"href",`${F??""}/`),L(Ae,"href",`${F??""}/models`),L(Ve,"href",`${F??""}/gallery`),L(R,"href",`${F??""}/google-images`),L(ce,"href",`${F??""}/google-videos`),L(_t,"href",`${F??""}/settings/application`)}),u(f,l)};y(Pe,f=>{t(P)&&f(Je)})}var Ge=i(Pe,2);{var Pt=f=>{var l=Yo();l.__click=()=>Ga.open();var m=s(l);Ya(m,{}),n(l),T(()=>{we(l,1,`hidden size-8 items-center justify-center gap-2 rounded-xl border border-gray-200 bg-[#f3f4f6]/55 text-sm font-medium text-gray-700 shadow-sm hover:bg-[#e5e7eb] hover:text-gray-500 dark:border-gray-700 dark:bg-gray-800/80 dark:text-gray-200 dark:hover:bg-gray-700 md:absolute md:right-6 md:top-5 md:flex
				${g()?"cursor-not-allowed opacity-40":""}`),l.disabled=g()}),u(f,l)};y(Ge,f=>{t(O)&&f(Pt)})}var it=i(Ge,2);No(it,{get title(){return t(re)},children:(f,l)=>{Aa(f,{get conversations(){return t(S)},get user(){return e.data.user},ondeleteConversation:m=>Z(m),oneditConversationTitle:m=>D(m.id,m.title)})},$$slots:{default:!0}});var Re=i(it,2),ht=s(Re);Aa(ht,{get conversations(){return t(S)},get user(){return e.data.user},ondeleteConversation:f=>Z(f),oneditConversationTitle:f=>D(f.id,f.title)}),n(Re);var bt=i(Re,2);{var Ie=f=>{jr(f,{get message(){return t(E)}})};y(bt,f=>{t(E)&&f(Ie)})}var pt=i(bt,2);Ua(pt,()=>e.children??ba);var lt=i(pt,2);{var It=f=>{var l=Jo();i(H(l)),u(f,l)};y(lt,f=>{p.PUBLIC_PLAUSIBLE_SCRIPT_URL&&f(It)})}var Qe=i(lt,2);{var $e=f=>{Oa(f,{onclose:()=>b(_,!1)})};y(Qe,f=>{t(_)&&f($e)})}n(je),T(()=>{we(je,1,`fixed grid h-full w-screen grid-cols-1 grid-rows-[auto,1fr] overflow-hidden text-smd ${t(P)?"md:grid-cols-[0px,1fr]":"md:grid-cols-[290px,1fr]"} transition-[300ms] [transition-property:grid-template-columns] dark:text-gray-300 md:grid-rows-[1fr]`),L(je,"data-nav-collapsed",t(P))}),u(c,oe),Ke(),C()}st(["click"]);export{Zn as component,En as universal};
