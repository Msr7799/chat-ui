import"../chunks/Bzak7iHL.js";import{o as te,a as c,c as r,r as t,p as br,M as yr,i as o,e as k,h as n,f as b,d as fr,s,t as A,b as kr,u as _r,j as L}from"../chunks/jB7C_rnE.js";import{d as hr,b as re,s as g,e as wr,r as Tr}from"../chunks/C8st8IW6.js";import{i as _}from"../chunks/Bp5l5fH2.js";import{a as ae,b as O,r as Ne}from"../chunks/CgC7qgJv.js";import{a as Fe}from"../chunks/CeoL9yOQ.js";import{g as $r}from"../chunks/Bh8BaerV.js";import{U as Cr}from"../chunks/CBzCinHZ.js";import{T as Ar}from"../chunks/CpfQv8U7.js";import"../chunks/69_IOA4Y.js";import{h as oe}from"../chunks/CiNhGnpg.js";import{l as se}from"../chunks/D-VCVtW5.js";import{L as Lr}from"../chunks/Cxybhb3F.js";import{V as Er,a as Dr}from"../chunks/BEO6q_qa.js";import{C as Ur}from"../chunks/Ce7v3j9V.js";var Sr=te("<svg><!></svg>");function He(y,x){const d=se(x,["children","$$slots","$$events","$$legacy"]);var l=Sr();ae(l,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...d}));var u=r(l);oe(u,()=>'<path fill="currentColor" d="M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14m0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4"/><path fill="currentColor" d="M20.59 22L15 16.41V7h2v8.58l5 5.01z"/>',!0),t(l),c(y,l)}var Mr=te("<svg><!></svg>");function Or(y,x){const d=se(x,["children","$$slots","$$events","$$legacy"]);var l=Mr();ae(l,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...d}));var u=r(l);oe(u,()=>'<path fill="currentColor" d="M26 30H14a2 2 0 0 1-2-2v-3h2v3h12V4H14v3h-2V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v24a2 2 0 0 1-2 2"/><path fill="currentColor" d="M14.59 20.59L18.17 17H4v-2h14.17l-3.58-3.59L16 10l6 6l-6 6z"/>',!0),t(l),c(y,l)}var zr=te("<svg><!></svg>");function Nr(y,x){const d=se(x,["children","$$slots","$$events","$$legacy"]);var l=zr();ae(l,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...d}));var u=r(l);oe(u,()=>'<path fill="currentColor" d="M21 2a8.998 8.998 0 0 0-8.612 11.612L2 24v6h6l10.388-10.388A9 9 0 1 0 21 2m0 16a7 7 0 0 1-2.032-.302l-1.147-.348l-.847.847l-3.181 3.181L12.414 20L11 21.414l1.379 1.379l-1.586 1.586L9.414 23L8 24.414l1.379 1.379L7.172 28H4v-3.172l9.802-9.802l.848-.847l-.348-1.147A7 7 0 1 1 21 18"/><circle cx="22" cy="10" r="2" fill="currentColor"/>',!0),t(l),c(y,l)}var Fr=b('<img referrerpolicy="no-referrer" class="size-full rounded-full object-cover"/>'),Hr=b('<span class="text-2xl font-semibold uppercase"> </span>'),Ir=b('<p class="text-sm text-gray-600 dark:text-gray-400"> </p>'),Pr=b('<span class="inline-block rounded-full bg-purple-100 px-2 py-1 text-xs font-medium text-purple-800 dark:bg-purple-900 dark:text-purple-200">Administrator</span>'),Vr=b('<span class="inline-block rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900 dark:text-blue-200">Early Access</span>'),jr=b('<p class="text-sm text-green-600 dark:text-green-400">âœ“ Token saved successfully!</p>'),qr=b(`<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="relative max-h-[90vh] w-full max-w-md overflow-y-auto rounded-2xl bg-white p-6 shadow-2xl dark:bg-gray-900"><h3 class="text-lg font-semibold text-red-600 dark:text-red-400">Confirm Account Deletion</h3> <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">This action cannot be undone. All your data including conversations, images, and settings
				will be permanently deleted.</p> <p class="mt-4 text-sm font-medium text-gray-900 dark:text-gray-100">Type "DELETE ACCOUNT" to confirm:</p> <input type="text" placeholder="DELETE ACCOUNT" class="mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"/> <div class="mt-6 flex gap-3"><button class="flex-1 rounded-lg border border-gray-300 px-4 py-2 text-gray-700 transition-colors hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800">Cancel</button> <button class="flex-1 rounded-lg bg-red-600 px-4 py-2 text-white transition-colors hover:bg-red-700 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-red-700 dark:hover:bg-red-800"> </button></div></div></div>`),Br=b(`<div class="flex flex-col gap-6"><div class="flex items-center gap-3"><div class="rounded-lg bg-blue-100 p-2 dark:bg-blue-900"><!></div> <div><h1 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Account Settings</h1> <p class="text-sm text-gray-600 dark:text-gray-400">Manage your account information and preferences</p></div></div> <div class="rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800"><h2 class="mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100">Profile Information</h2> <div class="space-y-4"><div class="flex items-center gap-4"><div class="flex size-16 items-center justify-center rounded-full border-2 border-gray-200 bg-indigo-500 text-white dark:border-gray-700"><!></div> <div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"> </h3> <!> <!> <!></div></div> <div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Username</label> <div class="mt-1 rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"> </div></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email</label> <div class="mt-1 rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"> </div></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">HuggingFace ID</label> <div class="mt-1 rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"> </div></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Account Created</label> <div class="mt-1 rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"> </div></div></div></div></div> <div class="rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800"><h2 class="mb-4 flex items-center gap-2 text-lg font-semibold text-gray-900 dark:text-gray-100"><!> HuggingFace Token</h2> <div class="space-y-4"><div class="rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20"><p class="text-sm text-blue-800 dark:text-blue-200"><strong>Optional:</strong> Add your personal HuggingFace token for better performance and private
					quota.</p> <p class="mt-2 text-xs text-blue-600 dark:text-blue-300">ðŸ’¡ If left empty, the system will use the default server token. Your personal token (if
					set) will override the system default for all your requests.</p></div> <div class="space-y-3"><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Personal Token</label> <div class="flex gap-2"><div class="relative flex-1"><input placeholder="hf_..." class="w-full rounded-md border border-gray-300 px-3 py-2 pr-20 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"/> <div class="absolute right-2 top-1/2 flex -translate-y-1/2 gap-1"><button class="rounded p-1 text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300"><!></button> <button class="rounded p-1 text-gray-500 hover:bg-gray-100 hover:text-gray-700 disabled:cursor-not-allowed disabled:opacity-50 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300" title="Copy token"><!></button></div></div> <button class="rounded-md bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"> </button></div> <!> <p class="text-xs text-gray-500 dark:text-gray-400">Your token is encrypted and stored securely. It will override the system token for all
					your requests.</p></div></div></div> <div class="rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-800"><h2 class="mb-4 flex items-center gap-2 text-lg font-semibold text-gray-900 dark:text-gray-100"><!> Session Information</h2> <div class="space-y-4"><div class="grid grid-cols-1 gap-4 md:grid-cols-3"><div class="flex items-center gap-3 rounded-lg border border-gray-200 p-4 dark:border-gray-700"><!> <div><p class="text-sm font-medium text-gray-700 dark:text-gray-300">Last Login</p> <p class="text-sm text-gray-600 dark:text-gray-400"> </p></div></div> <div class="flex items-center gap-3 rounded-lg border border-gray-200 p-4 dark:border-gray-700"><!> <div><p class="text-sm font-medium text-gray-700 dark:text-gray-300">Last Logout</p> <p class="text-sm text-gray-600 dark:text-gray-400"> </p></div></div> <div class="flex items-center gap-3 rounded-lg border border-gray-200 p-4 dark:border-gray-700"><!> <div><p class="text-sm font-medium text-gray-700 dark:text-gray-300">Total Online Time</p> <p class="text-sm text-gray-600 dark:text-gray-400"> </p></div></div></div></div></div> <div class="rounded-lg border border-red-200 bg-red-50 p-6 dark:border-red-800 dark:bg-red-900/20"><h2 class="mb-4 flex items-center gap-2 text-lg font-semibold text-red-900 dark:text-red-100"><!> Danger Zone</h2> <div class="space-y-4"><p class="text-sm text-red-700 dark:text-red-300">Once you delete your account, there is no going back. This will permanently delete your
				account, all conversations, generated images, and settings.</p> <button class="rounded-lg bg-red-600 px-4 py-2 text-white transition-colors hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800">Delete Account</button></div></div></div> <!>`,1);function dt(y,x){br(x,!0);let d=_r(()=>x.data.user),l=k(!1),u=k(""),h=k(!1),m=k(""),T=k(!1),E=k(!1),$=k(!1);yr(()=>{const e=x.data.user;e!=null&&e.hfToken&&!o(m)&&n(m,e.hfToken,!0)});function z(e){return e?new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e)):"Never"}function Ie(e){if(!e)return"0 minutes";const a=Math.floor(e/(1e3*60)),i=Math.floor(a/60),v=Math.floor(i/24);return v>0?`${v}d ${i%24}h ${a%60}m`:i>0?`${i}h ${a%60}m`:`${a}m`}async function Pe(){o(m)&&(await navigator.clipboard.writeText(o(m)),n($,!0),setTimeout(()=>n($,!1),2e3))}async function Ve(){n(E,!0);try{if((await fetch(`${re}/settings/account/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hfToken:o(m)})})).ok)n($,!0),setTimeout(()=>n($,!1),3e3);else throw new Error("Failed to save token")}catch(e){console.error("Error saving token:",e),alert("Failed to save token. Please try again.")}finally{n(E,!1)}}async function je(){if(o(u)==="DELETE ACCOUNT"){n(h,!0);try{if((await fetch(`${re}/logout`,{method:"POST"})).ok)$r(`${re}/`);else throw new Error("Failed to logout")}catch(e){console.error("Error deleting account:",e),alert("Failed to delete account. Please try again.")}finally{n(h,!1),n(l,!1)}}}var de=Br(),N=fr(de),F=r(N),le=r(F),qe=r(le);Cr(qe,{class:"text-xl text-blue-600 dark:text-blue-400"}),t(le),L(2),t(F);var H=s(F,2),ie=s(r(H),2),I=r(ie),P=r(I),Be=r(P);{var Ye=e=>{var a=Fr();A(()=>{O(a,"src",o(d).avatarUrl),O(a,"alt",o(d).username||o(d).email)}),wr("error",a,i=>{const v=i.currentTarget;v.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(o(d).username||o(d).email||"U")}&background=6366f1&color=fff&size=128`}),Tr(a),c(e,a)},Je=e=>{var a=Hr(),i=r(a,!0);t(a),A(()=>{var v,p;return g(i,(((v=o(d))==null?void 0:v.username)||((p=o(d))==null?void 0:p.email)||"U")[0])}),c(e,a)};_(Be,e=>{var a;(a=o(d))!=null&&a.avatarUrl?e(Ye):e(Je,!1)})}t(P);var ne=s(P,2),V=r(ne),Re=r(V,!0);t(V);var ve=s(V,2);{var Ze=e=>{var a=Ir(),i=r(a,!0);t(a),A(()=>g(i,o(d).email)),c(e,a)};_(ve,e=>{var a;(a=o(d))!=null&&a.email&&e(Ze)})}var ge=s(ve,2);{var Ge=e=>{var a=Pr();c(e,a)};_(ge,e=>{var a;(a=o(d))!=null&&a.isAdmin&&e(Ge)})}var Ke=s(ge,2);{var Qe=e=>{var a=Vr();c(e,a)};_(Ke,e=>{var a;(a=o(d))!=null&&a.isEarlyAccess&&e(Qe)})}t(ne),t(I);var ce=s(I,2),j=r(ce),ue=s(r(j),2),We=r(ue,!0);t(ue),t(j);var q=s(j,2),xe=s(r(q),2),Xe=r(xe,!0);t(xe),t(q);var B=s(q,2),me=s(r(B),2),er=r(me,!0);t(me),t(B);var pe=s(B,2),be=s(r(pe),2),rr=r(be,!0);t(be),t(pe),t(ce),t(ie),t(H);var Y=s(H,2),J=r(Y),tr=r(J);Nr(tr,{class:"text-xl"}),L(),t(J);var ye=s(J,2),fe=s(r(ye),2),R=s(r(fe),2),Z=r(R),D=r(Z);Ne(D);var ke=s(D,2),C=r(ke);C.__click=()=>n(T,!o(T));var ar=r(C);{var or=e=>{Er(e,{class:"text-sm"})},sr=e=>{Dr(e,{class:"text-sm"})};_(ar,e=>{o(T)?e(or):e(sr,!1)})}t(C);var U=s(C,2);U.__click=Pe;var dr=r(U);Ur(dr,{class:"text-sm"}),t(U),t(ke),t(Z);var S=s(Z,2);S.__click=Ve;var lr=r(S,!0);t(S),t(R);var ir=s(R,2);{var nr=e=>{var a=jr();c(e,a)};_(ir,e=>{o($)&&e(nr)})}L(2),t(fe),t(ye),t(Y);var G=s(Y,2),K=r(G),vr=r(K);He(vr,{class:"text-xl"}),L(),t(K);var _e=s(K,2),he=r(_e),Q=r(he),we=r(Q);Or(we,{class:"text-xl text-green-600 dark:text-green-400"});var Te=s(we,2),$e=s(r(Te),2),gr=r($e,!0);t($e),t(Te),t(Q);var W=s(Q,2),Ce=r(W);Lr(Ce,{class:"text-xl text-red-600 dark:text-red-400"});var Ae=s(Ce,2),Le=s(r(Ae),2),cr=r(Le,!0);t(Le),t(Ae),t(W);var Ee=s(W,2),De=r(Ee);He(De,{class:"text-xl text-blue-600 dark:text-blue-400"});var Ue=s(De,2),Se=s(r(Ue),2),ur=r(Se,!0);t(Se),t(Ue),t(Ee),t(he),t(_e),t(G);var Me=s(G,2),X=r(Me),xr=r(X);Ar(xr,{class:"text-xl"}),L(),t(X);var Oe=s(X,2),ze=s(r(Oe),2);ze.__click=()=>n(l,!0),t(Oe),t(Me),t(N);var mr=s(N,2);{var pr=e=>{var a=qr();a.__click=()=>n(l,!1);var i=r(a);i.__click=ee=>ee.stopPropagation();var v=s(r(i),6);Ne(v);var p=s(v,2),w=r(p);w.__click=()=>n(l,!1);var f=s(w,2);f.__click=je;var M=r(f,!0);t(f),t(p),t(i),t(a),A(()=>{w.disabled=o(h),f.disabled=o(u)!=="DELETE ACCOUNT"||o(h),g(M,o(h)?"Deleting...":"Delete Account")}),Fe(v,()=>o(u),ee=>n(u,ee)),c(e,a)};_(mr,e=>{o(l)&&e(pr)})}A((e,a,i,v)=>{var p,w,f,M;g(Re,((p=o(d))==null?void 0:p.username)||"Unknown User"),g(We,((w=o(d))==null?void 0:w.username)||"Not set"),g(Xe,((f=o(d))==null?void 0:f.email)||"Not set"),g(er,((M=o(d))==null?void 0:M.hfUserId)||"Not connected"),g(rr,e),O(D,"type",o(T)?"text":"password"),O(C,"title",o(T)?"Hide token":"Show token"),U.disabled=!o(m),S.disabled=o(E)||!o(m),g(lr,o(E)?"Saving...":"Save"),g(gr,a),g(cr,i),g(ur,v),ze.disabled=o(h)},[()=>{var e;return z((e=o(d))==null?void 0:e.createdAt)},()=>{var e;return z((e=o(d))==null?void 0:e.lastLoginAt)},()=>{var e;return z((e=o(d))==null?void 0:e.lastLogoutAt)},()=>{var e;return Ie((e=o(d))==null?void 0:e.onlineDuration)}]),Fe(D,()=>o(m),e=>n(m,e)),c(y,de),kr()}hr(["click"]);export{dt as component};
