import"../chunks/Bzak7iHL.js";import{d as St,o as Pt,b as te,s as C}from"../chunks/C8st8IW6.js";import{o as It,c as a,r,a as g,p as Ct,e as v,g as De,f as u,h as d,s,t as b,b as Tt,i,j as T,d as Fe,k as $t}from"../chunks/jB7C_rnE.js";import{i as y}from"../chunks/Bp5l5fH2.js";import{e as Mt,i as Ot}from"../chunks/B_9GqA3w.js";import{a as Bt,s as ae,b as E,r as We,i as Et,e as Ht}from"../chunks/CgC7qgJv.js";import{a as Ve}from"../chunks/CeoL9yOQ.js";import{l as jt,b as Ye,s as Kt,a as Nt}from"../chunks/D-VCVtW5.js";import{T as Gt}from"../chunks/CpfQv8U7.js";import{A as Je}from"../chunks/BkRPYacC.js";import"../chunks/69_IOA4Y.js";import{h as Lt}from"../chunks/CiNhGnpg.js";import{u as Rt}from"../chunks/DSumOSA1.js";import{S as we}from"../chunks/D9oTCdqu.js";import{g as qe}from"../chunks/Bh8BaerV.js";import{e as Qe}from"../chunks/ucWAtqEP.js";import{p as L}from"../chunks/U6mOqqCz.js";import{u as Ut}from"../chunks/DJ2Os-o7.js";import{u as zt,h as Ae}from"../chunks/DkC0pIUA.js";import{g as Dt,s as Se}from"../chunks/DxgCHJIT.js";import{I as Xe}from"../chunks/ByPW2F0P.js";var Ft=It("<svg><!></svg>");function Wt(re,ie){const H=jt(ie,["children","$$slots","$$events","$$legacy"]);var j=Ft();Bt(j,()=>({viewBox:"0 0 32 32",width:"1.2em",height:"1.2em",...H}));var se=a(j);Lt(se,()=>'<path fill="currentColor" fill-rule="evenodd" d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.7 3.7 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2"/>',!0),r(j),g(re,j)}var Vt=u('<div class="mt-1 rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-[12px] text-gray-700 dark:border-gray-700 dark:bg-gray-700/80 dark:text-gray-300"><span class="font-medium">API Base URL:</span> <code class="ml-1 break-all font-mono text-[12px] text-gray-800 dark:text-gray-100"> </code></div>'),Yt=u('<div class="flex flex-col items-start justify-between text-xl font-semibold text-gray-800 dark:text-gray-200"><a target="_blank" rel="noreferrer" class="text-sm font-light text-gray-500 dark:text-gray-400">Latest deployment <span class="gap-2 font-mono"> </span></a></div>'),Jt=u('<span class="text-xs text-gray-600 dark:text-gray-400"> </span>'),qt=u('<div class="flex items-center gap-2"><p class="rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 dark:bg-red-500/10 dark:text-red-300">Admin mode</p> <button type="button"> </button> <!></div>'),Qt=u('<div class="px-3 pb-3 text-xs text-red-600 dark:text-red-400">Config manager is disabled. Set <code>ENABLE_CONFIG_MANAGER=true</code> to store keys in DB.</div>'),Xt=u('<div class="px-3 pb-3 text-xs text-red-600 dark:text-red-400"> </div>'),Zt=u('<div class="px-3 pb-3 text-xs text-green-600 dark:text-green-400">Saved</div>'),ea=u('<div class="rounded-xl border border-gray-200 bg-white px-3 shadow-sm dark:border-gray-700 dark:bg-gray-800"><div class="divide-y divide-gray-200 dark:divide-gray-700"><div class="flex items-start justify-between py-3"><div><div class="flex items-center gap-2 text-[13px] font-medium text-gray-800 dark:text-gray-200"><!> Google AI Studio API Key</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">Used for Google chat models + Google Images + Google Videos.</p> <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noreferrer" class="mt-1 inline-flex items-center text-[12px] underline decoration-gray-300 underline-offset-2 hover:decoration-gray-700 dark:decoration-gray-700 dark:hover:decoration-gray-400">Create / Manage Google Studio API Key</a></div> <div class="flex w-[420px] max-w-full flex-col gap-2"><div class="flex items-center gap-2"><input class="w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"/> <button type="button" class="btn rounded-md text-xs"> </button></div> <div class="flex items-center justify-end gap-2"><button type="button" class="btn rounded-md text-xs">Save</button> <button type="button" class="btn rounded-md text-xs">Clear</button></div></div></div> <div class="flex items-start justify-between py-3"><div><div class="flex items-center gap-2 text-[13px] font-medium text-gray-800 dark:text-gray-200"><!> Hugging Face Token (HF_TOKEN)</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">Used for Hugging Face Router / OpenAI-compatible endpoints.</p> <a href="https://huggingface.co/settings/tokens" target="_blank" rel="noreferrer" class="mt-1 inline-flex items-center text-[12px] underline decoration-gray-300 underline-offset-2 hover:decoration-gray-700 dark:decoration-gray-700 dark:hover:decoration-gray-400">Create / Manage Hugging Face Token</a></div> <div class="flex w-[420px] max-w-full flex-col gap-2"><div class="flex items-center gap-2"><input class="w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"/> <button type="button" class="btn rounded-md text-xs"> </button></div> <div class="flex items-center justify-end gap-2"><button type="button" class="btn rounded-md text-xs">Save</button> <button type="button" class="btn rounded-md text-xs">Clear</button></div></div></div></div> <!> <!> <!></div>'),ta=u('<div class="flex items-start justify-between py-3"><div><div class="text-[13px] font-medium text-gray-800 dark:text-gray-200">Share with model authors</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">Sharing your data helps improve open models over time.</p></div> <!></div>'),aa=u('<span class="text-xs text-gray-500 dark:text-gray-400">Loading...</span>'),ra=u('<span class="text-xs text-red-500"> </span>'),ia=u("<option> </option>"),sa=u('<select class="rounded-md border border-gray-300 bg-white px-1 py-1 text-xs text-gray-800 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200"><option>Personal</option><!></select>'),oa=u('<div class="rounded-xl border border-gray-200 bg-white px-3 shadow-sm dark:border-gray-700 dark:bg-gray-800"><div class="divide-y divide-gray-200 dark:divide-gray-700"><div class="flex items-start justify-between py-3"><div><div class="text-[13px] font-medium text-gray-800 dark:text-gray-200">Billing</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">Select between personal or organization billing (for eligible organizations).</p></div> <div class="flex items-center"><!></div></div> <div class="flex items-start justify-between py-3"><div><div class="text-[13px] font-medium text-gray-800 dark:text-gray-200">Providers Usage</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">See which providers you use and choose your preferred ones.</p></div> <a target="_blank" class="whitespace-nowrap rounded-md border border-gray-300 bg-white px-2.5 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">View Usage</a></div></div></div>'),da=u('<a href="https://github.com/huggingface/chat-ui" target="_blank" class="flex items-center underline decoration-gray-300 underline-offset-2 hover:decoration-gray-700 dark:decoration-gray-700 dark:hover:decoration-gray-400"><!> Github repository</a> <a href="https://huggingface.co/spaces/huggingchat/chat-ui/discussions/764" target="_blank" rel="noreferrer" class="flex items-center underline decoration-gray-300 underline-offset-2 hover:decoration-gray-700 dark:decoration-gray-700 dark:hover:decoration-gray-400"><!> Share your feedback on HuggingChat</a> <a class="flex items-center underline decoration-gray-300 underline-offset-2 hover:decoration-gray-700 dark:decoration-gray-700 dark:hover:decoration-gray-400"><!> About & Privacy</a>',1),na=u(`<div class="flex w-full flex-col gap-4"><h2 class="text-center text-lg font-semibold text-gray-800 dark:text-gray-200 md:text-left">Application Settings</h2> <!> <!> <!> <div class="flex h-full flex-col gap-4 max-sm:pt-0"><!> <div class="rounded-xl border border-gray-200 bg-white px-3 shadow-sm dark:border-gray-700 dark:bg-gray-800"><div class="divide-y divide-gray-200 dark:divide-gray-700"><!> <div class="flex items-start justify-between py-3"><div><div class="text-[13px] font-medium text-gray-800 dark:text-gray-200">Disable streaming tokens</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">Show responses only when complete.</p></div> <!></div> <div class="flex items-start justify-between py-3"><div><div class="text-[13px] font-medium text-gray-800 dark:text-gray-200">Paste text directly</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">Paste long text directly into chat instead of a file.</p></div> <!></div> <div class="flex items-start justify-between py-3"><div><div class="text-[13px] font-medium text-gray-800 dark:text-gray-200">Theme</div> <p class="text-[12px] text-gray-500 dark:text-gray-400">Choose light, dark, or follow system.</p></div> <div class="flex overflow-hidden rounded-md border text-center dark:divide-gray-600 dark:border-gray-600 max-sm:flex-col max-sm:divide-y sm:items-center sm:divide-x"><button>system</button> <button>light</button> <button>dark</button></div></div></div></div> <!> <div class="mt-6 flex flex-col gap-2 self-start text-[13px]"><!> <button type="submit" class="flex items-center underline decoration-red-200 underline-offset-2 hover:decoration-red-500 dark:decoration-red-900 dark:hover:decoration-red-700"><!>Delete all conversations</button> <div class="relative bottom-0 mt-24 text-lg font-semibold text-gray-400/80 dark:text-gray-500/80">Rights reserved © 2026
				develope by Mohamed S. Alromaihi</div></div></div></div>`);function $a(re,ie){Ct(ie,!0);const H=()=>Nt(R,"$settings",j),[j,se]=Kt(),O=Ut();let R=Rt();function Ze(){return H().shareConversationsWithModelAuthors}function et(e){R.update(t=>({...t,shareConversationsWithModelAuthors:e}))}function tt(){return H().disableStream}function at(e){R.update(t=>({...t,disableStream:e}))}function rt(){return H().directPaste}function it(e){R.update(t=>({...t,directPaste:e}))}const W=zt();let oe=v(null),Pe=v(De([])),de=v(!1),ne=v(null);function V(){return H().billingOrganization??""}function Ie(e){R.update(t=>({...t,billingOrganization:e}))}Pt(async()=>{try{const e=await W.debug.config.get().then(Ae);d(oe,e.OPENAI_BASE_URL||null,!0)}catch{}if(L.data.isAdmin&&await st(),O.isHuggingChat&&L.data.user){d(de,!0);try{const e=await W.user["billing-orgs"].get().then(Ae);d(Pe,e.organizations??[],!0),e.currentBillingOrg!==V()&&Ie(e.currentBillingOrg??"")}catch{d(ne,"Failed to load billing options")}finally{d(de,!1)}}});let K=v(De(Dt())),U=v(!1),Y=v(null),$=v(null),le=v(!1),ge=v(!1),ve=v(""),ce=v(""),J=v(!1),q=v(!1),k=v(!1),N=v(null),Q=v(!1);async function st(){d(N,null);try{const e=await fetch(`${te}/api/config`);if(!e.ok){const o=await e.text().catch(()=>"");throw new Error(o||`HTTP ${e.status}`)}const t=await e.json();d($,!!t.configManagerEnabled,!0),d(le,!!t.geminiApiKeySet,!0),d(ge,!!t.hfTokenSet,!0)}catch(e){d(N,String((e==null?void 0:e.message)??e),!0)}}async function X(e){d(k,!0),d(N,null),d(Q,!1);try{const t=await fetch(`${te}/api/config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text().catch(()=>"");throw new Error(n||`HTTP ${t.status}`)}const o=await t.json();d(le,!!o.geminiApiKeySet,!0),d(ge,!!o.hfTokenSet,!0),d(Q,!0),setTimeout(()=>d(Q,!1),2500)}catch(t){d(N,String((t==null?void 0:t.message)??t),!0)}finally{d(k,!1)}}var xe=na(),Ce=s(a(xe),2);{var ot=e=>{var t=Vt(),o=s(a(t),2),n=a(o,!0);r(o),r(t),b(()=>C(n,i(oe))),g(e,t)};y(Ce,e=>{i(oe)!==null&&e(ot)})}var Te=s(Ce,2);{var dt=e=>{var t=Yt(),o=a(t),n=s(a(o)),c=a(n,!0);r(n),r(o),r(t),b(m=>{E(o,"href",`https://github.com/huggingface/chat-ui/commit/${O.PUBLIC_COMMIT_SHA}`),C(c,m)},[()=>O.PUBLIC_COMMIT_SHA.slice(0,7)]),g(e,t)};y(Te,e=>{O.PUBLIC_COMMIT_SHA&&e(dt)})}var $e=s(Te,2);{var nt=e=>{var t=qt(),o=s(a(t),2);let n;o.__click=async()=>{try{d(U,!0),d(Y,null);const l=await W.models.refresh.post().then(Ae),_=`+${l.added.length} −${l.removed.length} ~${l.changed.length}`;d(Y,`Refreshed in ${l.durationMs} ms • ${_} • total ${l.total}`),await qe(L.url.pathname,{invalidateAll:!0})}catch(l){console.error(l),Ye(Qe,"Model refresh failed")}finally{d(U,!1)}};var c=a(o,!0);r(o);var m=s(o,2);{var P=l=>{var _=Jt(),w=a(_,!0);r(_),b(()=>C(w,i(Y))),g(l,_)};y(m,l=>{i(Y)&&l(P)})}r(t),b(()=>{n=ae(o,1,"btn rounded-md text-xs",null,n,{underline:!i(U)}),o.disabled=i(U),C(c,i(U)?"Refreshing…":"Refresh models")}),g(e,t)};y($e,e=>{L.data.isAdmin&&e(nt)})}var Me=s($e,2),Oe=a(Me);{var lt=e=>{var t=ea(),o=a(t),n=a(o),c=a(n),m=a(c),P=a(m);Xe(P,{classNames:"text-base"}),T(),r(m),T(4),r(c);var l=s(c,2),_=a(l),w=a(_);We(w);var p=s(w,2);p.__click=()=>d(J,!i(J));var G=a(p,!0);r(p),r(_);var Z=s(_,2),z=a(Z);z.__click=()=>X({GEMINI_API_KEY:i(ve)});var ee=s(z,2);ee.__click=()=>X({GEMINI_API_KEY:""}),r(Z),r(l),r(n);var I=s(n,2),x=a(I),M=a(x),be=a(M);Xe(be,{classNames:"text-base"}),T(),r(M),T(4),r(x);var D=s(x,2),h=a(D),A=a(h);We(A);var S=s(A,2);S.__click=()=>d(q,!i(q));var he=a(S,!0);r(S),r(h);var F=s(h,2),ke=a(F);ke.__click=()=>X({HF_TOKEN:i(ce)});var Re=s(ke,2);Re.__click=()=>X({HF_TOKEN:""}),r(F),r(D),r(I),r(o);var Ue=s(o,2);{var bt=f=>{var B=Qt();g(f,B)};y(Ue,f=>{i($)===!1&&f(bt)})}var ze=s(Ue,2);{var ht=f=>{var B=Xt(),At=a(B,!0);r(B),b(()=>C(At,i(N))),g(f,B)};y(ze,f=>{i(N)&&f(ht)})}var kt=s(ze,2);{var wt=f=>{var B=Zt();g(f,B)};y(kt,f=>{i(Q)&&f(wt)})}r(t),b(()=>{E(w,"type",i(J)?"text":"password"),E(w,"placeholder",i(le)?"(configured)":"AIza..."),w.disabled=!i($)||i(k),p.disabled=i(k),C(G,i(J)?"Hide":"Show"),z.disabled=!i($)||i(k),ee.disabled=!i($)||i(k),E(A,"type",i(q)?"text":"password"),E(A,"placeholder",i(ge)?"(configured)":"hf_..."),A.disabled=!i($)||i(k),S.disabled=i(k),C(he,i(q)?"Hide":"Show"),ke.disabled=!i($)||i(k),Re.disabled=!i($)||i(k)}),Ve(w,()=>i(ve),f=>d(ve,f)),Ve(A,()=>i(ce),f=>d(ce,f)),g(e,t)};y(Oe,e=>{L.data.isAdmin&&e(lt)})}var ue=s(Oe,2),Be=a(ue),Ee=a(Be);{var gt=e=>{var t=ta(),o=s(a(t),2),n=Ze,c=et;we(o,{name:"shareConversationsWithModelAuthors",get checked(){return n()},set checked(m){c(m)}}),r(t),g(e,t)};y(Ee,e=>{O.PUBLIC_APP_DATA_SHARING==="1"&&e(gt)})}var fe=s(Ee,2),vt=s(a(fe),2),ct=tt,xt=at;we(vt,{name:"disableStream",get checked(){return ct()},set checked(e){xt(e)}}),r(fe);var pe=s(fe,2),ut=s(a(pe),2),ft=rt,pt=it;we(ut,{name:"directPaste",get checked(){return ft()},set checked(e){pt(e)}}),r(pe);var He=s(pe,2),je=s(a(He),2),ye=a(je);ye.__click=()=>{Se("system"),d(K,"system")};var me=s(ye,2);me.__click=()=>{Se("light"),d(K,"light")};var Ke=s(me,2);Ke.__click=()=>{Se("dark"),d(K,"dark")},r(je),r(He),r(Be),r(ue);var Ne=s(ue,2);{var yt=e=>{var t=oa(),o=a(t),n=a(o),c=s(a(n),2),m=a(c);{var P=p=>{var G=aa();g(p,G)},l=p=>{var G=$t(),Z=Fe(G);{var z=I=>{var x=ra(),M=a(x,!0);r(x),b(()=>C(M,i(ne))),g(I,x)},ee=I=>{var x=sa();x.__change=h=>Ie(h.currentTarget.value);var M=a(x);M.value=M.__value="";var be=s(M);Mt(be,17,()=>i(Pe),Ot,(h,A)=>{var S=ia(),he=a(S,!0);r(S);var F={};b(()=>{C(he,i(A).name),F!==(F=i(A).preferred_username)&&(S.value=(S.__value=i(A).preferred_username)??"")}),g(h,S)}),r(x);var D;Et(x),b(h=>{D!==(D=h)&&(x.value=(x.__value=h)??"",Ht(x,h))},[V]),g(I,x)};y(Z,I=>{i(ne)?I(z):I(ee,!1)},!0)}g(p,G)};y(m,p=>{i(de)?p(P):p(l,!1)})}r(c),r(n);var _=s(n,2),w=s(a(_),2);r(_),r(o),r(t),b(p=>E(w,"href",p),[()=>V()?`https://huggingface.co/organizations/${V()}/settings/inference-providers/overview`:"https://huggingface.co/settings/inference-providers/overview"]),g(e,t)};y(Ne,e=>{O.isHuggingChat&&L.data.user&&e(yt)})}var Ge=s(Ne,2),Le=a(Ge);{var mt=e=>{var t=da(),o=Fe(t),n=a(o);Wt(n,{class:"mr-1.5 shrink-0 text-sm "}),T(),r(o);var c=s(o,2),m=a(c);Je(m,{class:"mr-1.5 shrink-0 text-sm "}),T(),r(c);var P=s(c,2),l=a(P);Je(l,{class:"mr-1.5 shrink-0 text-sm "}),T(),r(P),b(()=>E(P,"href",`${te??""}/privacy`)),g(e,t)};y(Le,e=>{O.isHuggingChat&&e(mt)})}var _e=s(Le,2);_e.__click=async e=>{e.preventDefault(),confirm("Are you sure you want to delete all conversations?")&&W.conversations.delete().then(async()=>{await qe(`${te}/`,{invalidateAll:!0})}).catch(t=>{console.error(t),Ye(Qe,t.message)})};var _t=a(_e);Gt(_t,{class:"mr-2 inline text-sm text-red-500"}),T(),r(_e),T(2),r(Ge),r(Me),r(xe),b(()=>{ae(ye,1,"inline-flex items-center justify-center px-2.5 py-1 text-center text-xs "+(i(K)==="system"?"bg-black text-white dark:border-white/10 dark:bg-white/80 dark:text-gray-900":"hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700/60")),ae(me,1,"inline-flex items-center justify-center px-2.5 py-1 text-center text-xs "+(i(K)==="light"?"bg-black text-white dark:border-white/10 dark:bg-white/80 dark:text-gray-900":"hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700/60")),ae(Ke,1,"inline-flex items-center justify-center px-2.5 py-1 text-center text-xs "+(i(K)==="dark"?"bg-black text-white dark:border-white/10 dark:bg-white/80 dark:text-gray-900":"hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700/60"))}),g(re,xe),Tt(),se()}St(["click","change"]);export{$a as component};
